<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
	
 <th:block th:include="fragments/headerlibs.html :: headerlibs"></th:block> 

<body id="page-top" onload="getWaitlist()">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        
        <div th:insert="fragments/sidenav.html :: sidevav"></div>
        
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content"> 

                <!-- Topbar -->
              
               <!--<div th:insert="fragments/header.html :: header"></div>-->
			   <nav class="navbar navbar-expand navbar-light bg-white topbar static-top">

                   <!-- Topbar Navbar -->
                   <ul class="navbar-nav top-nav">

                       <!-- Nav Item - User Information -->
                       <li class="nav-item">
                           <a class="nav-link active" href="#">
                               <span class="mr-2 small">Dashboard</span>
                               <i class="fas fa-ellipsis-v fa-sm fa-fw"></i>
                           </a>
                       </li>
                       <li class="nav-item">
                           <a class="nav-link" href="#">
                               <span class="mr-2 small">Approve / Reject </span>
                               <i class="fas fa-ellipsis-v fa-sm fa-fw"></i>
                           </a>
                       </li>

                   </ul>

				<ul class="navbar-nav ml-auto">
	                        <li class="nav-item dropdown no-arrow">
	                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	                               <span class="mr-2 d-none d-lg-inline text-gray-600 small" > <p th:text="${session.username}"></p> </span>
	                                <img class="img-profile rounded-circle" src="img/undraw_profile.svg">
	                            </a>
	                            <!-- Dropdown - User Information -->
	                            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
	                                <a class="dropdown-item" th:href="@{/ProfileInfo}">
	                                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
	                                    Profile
	                                </a>
	                                <a class="dropdown-item" href="#">
	                                    <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
	                                    Settings
	                                </a>
	                              
	                               <!--  <div class="dropdown-item dropdown-footer form-group mb-0" >
						            <a class="float-right btn text-white custom-btn-dark btn-sm mb-0"  th:href="@{/logout}">
								          <i class="fas fa-user-circle"></i> Logout         
								        </a>
						          </div> -->  
	                              <div class="dropdown-divider"></div>
	                                <a class="dropdown-item" th:href="@{/logout}">
	                                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400" > </i>
	                                    Logout
	                                </a>
	                            </div>
	                        </li>

	                   </ul>		
                     </nav>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
				<div class="policies-wrap-in-table mt-5 mt-4">
						<div class="table-responsive">
							<table class="table table-reimbursements"
								id="reimbursementTable">
								<thead>
									<tr>
										
										<th>Id</th>
										<th>Bank Name</th>
										
										<th>Account Holder Name</th>
										<th>A/C Number</th>
										
										<th>IFSC</th>
										<th>Requestedby</th>
										
										<th>Requested Amount</th>
										<th>Balance</th>
										<th>Status</th>
										<th>Approved/Rejected By</th>
										
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									<td></td>

								</tbody>
			
							</table>
							
						</div>
					</div>
				</div>
              
              <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->
        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

<div class="lds-spinner" id="signinLoader" style="display:none"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="js/demo/datatables-demo.js"></script>

	<script type="text/javascript" src="cotodel-js/cotodelApproval.js"></script>
	<script>
		// Event handlers for modal buttons
		$(document).ready(function() {
		    // Confirm button click handler
		    $("#btnConfirm").on("click", function() {
		        updateStatus();
		    });
		    
		    // Cancel button click handler
		    $("#btnCancel").on("click", function() {
		        $("#confirmationModal").modal('hide');
		    });
		});
	</script>
	<script type="text/javascript">
	
	$(document).ready(function(){
		
		  $('li.active').removeClass('active').removeAttr('aria-current'); 
		  $('a[href="' +'/cotodelApproval"]').closest('li').addClass('active').attr('aria-current', 'page');   
		  
	   $(".innernav").click(function(){
	       $(".dropdownNav").addClass("active");
	   });
	});
	
	</script>
	<script>			document.addEventListener("DOMContentLoaded", function () {
		    const table = document.getElementById("reimbursementTable");
		    const tbody = table.querySelector("tbody");
		    const idHeader = table.querySelector("th:first-child"); // Select the first column (Id)

		    idHeader.style.cursor = "pointer"; // Make it clear it's clickable
		    idHeader.addEventListener("click", function () {
		        let rows = Array.from(tbody.querySelectorAll("tr"));

		        let sortedRows = rows.sort((rowA, rowB) => {
		            let idA = parseInt(rowA.cells[0].textContent.trim()) || 0;
		            let idB = parseInt(rowB.cells[0].textContent.trim()) || 0;
		            return idA - idB; // Ascending order
		        });

		        tbody.innerHTML = ""; // Clear the current table body
		        sortedRows.forEach(row => tbody.appendChild(row)); // Append sorted rows
		    });
		});
	</script>
	

			<div class="modal fade" id="ModalRequestVoucher" tabindex="-1" role="dialog" aria-labelledby="ModalRequestVoucherTitle" aria-hidden="true">
			    <div class="modal-dialog modal-lg modal-dialog-centered" role="document" >
			        <div class="modal-content" >
			            <div class="modal-header pb-0">
			                <h5 class="modal-title" id="ModalRequestVoucherTitle">Request Voucher</h5>
			                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			                    <span aria-hidden="true">&times;</span>
			                </button>
			            </div>
			            <div class="modal-body" >
			                
			                <div class="container-fluid p-0 p-md-1">
			                    <form id="requestVoucher" name="requestVoucher" method="post">
			                        <input type="hidden" class="form-input" id="Name" name="Name" th:value="${session.username}">
			                        <input type="hidden" class="form-input" id="employerId" name="employerId" th:value="${session.id}">
			                        <input type="hidden" class="form-input" id="empId" name="empId" th:value="${session.empId}">

			                        <div class="card-form my-3">
			                           
			                            <select class="form-select form-control no-bg border-0" id="VoucherType" name="VoucherType" onchange="getVoucherSubTypes()">
			                                <option value="">Select Voucher Type</option>
			                            </select>
			                        </div>
			                        <div class="error-msg" id="VoucherTypeerror" style="color:red"></div>

			                        <div class="card-form my-3">
			                            
			                            <select class="form-select form-control no-bg border-0" id="VoucherSubType" name="VoucherSubType" >
			                                <option value="">Select Voucher Sub Type</option>
			                            </select>
			                        </div>
			                        <div class="error-msg" id="VoucherSubTypeerror" style="color:red"></div>

									<div class="card-form my-3">
                                         <label for="mobno">Mobile Number</label>
                                         <input type="text" class="form-input" id="mobno" name="mobno"  th:value="${session.mobile}" readonly>

                                     </div>
 										 <div class="error-msg" id="mobnoError" style="color:red"></div>
										 
			                        <div class="card-form my-3">
			                            <label for="VoucherAmount">Voucher Amount</label>
			                            <input type="number" class="form-input" id="VoucherAmount" name="VoucherAmount">
			                        </div>
			                        <div class="error-msg" id="VoucherAmountError" style="color:red"></div>

			                        <div class="card-form my-3">
			                            <label for="VoucherRemarks">Remarks</label>
			                            <input type="text" class="form-input" id="VoucherRemarks" name="VoucherRemarks">
			                        </div>
			                        <div class="error-msg" id="VoucherRemarksError" style="color:red"></div>

			                        <div id="otmsgdiv" style="display:none" class="alert alert-success text-center">
			                            <div id="otsuccmsg"></div>
			                        </div>

			                        <div id="otfailmsgDiv" style="display:none" class="alert alert-danger text-center">
			                            <div id="otfailmsg"></div>
			                        </div>

									<div class="modal-footer d-flex justify-content-between ">
									                <button type="button" class="btn btn-primary"  onclick="saveVoucherData()">Save</button>
									                <button type="button" class="btn btn-border"  data-dismiss="modal">Cancel</button>
						            </div>
			                    </form>
			                </div>
			            </div>
			        </div>
			    </div>
			</div>
			<div class="modalView" id="VoucherRequestSuccess" tabindex="-1" role="dialog"
			       aria-labelledby="exampleModalCenterTitle" >
			       <div class="modal-dialog modal-dialog-centered" role="document">
			           <div class="modal-content modal-bulk">
			               <div class="modal-top text-center">
			                   <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="approvedClose" onclick="approvedClose()">
			                       <img src="img/modal-close.svg" alt="">
			                   </button>
			                   <img src="img/modal-success.svg" alt="">
			               </div>
			               <div class="modal-bottom">
			                   <!--<div class="count"><span>4</span><strong>5</strong></div>-->
			                   <br>
			                   <span>Data saved SuccessFully!</span>
			               </div>
			           </div>
			       </div>
			   </div>
			   
			   <div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
			     <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg" role="document">
			       <div class="modal-content modal-bulk p-0">
			         <div class="modal-header pb-0 text-center">
			           <h5 class="modal-title w-100" id="modalTitle">Confirm Action</h5>
			         </div>
			         <hr>
			         <p class="text-dark text-center" id="modalMessage">Are you sure you want to approve/reject this request?</p>
			         <div class="modal-body text-center">
			           <div class="table-responsive">
			             <div class="table table-reimbursements">
			               <div class="tablehead">
			                 <div class="tabletheadtr">
			                   <span>Account Holder</span>
			                   <span>Bank Name</span>
			                  <!--<span>Account Number</span>
			                   <span>IFSC Code</span>--> 
			                   <span>Requested By</span>
			                   <span>Requested Amount</span>
			                   <span>Balance</span>
			                 </div>
			               </div>
			               <div class="tablebody">
			                 <div class="tablebodytr">
			                   <span id="popupFieldName"></span>
			                   <span id="popupFieldBankName"></span>
			                  <!-- <span id="popupFieldAccountNumber"></span>
			                   <span id="popupFieldIfscCode"></span>--> 
			                   <span id="popupFieldCreatedBy"></span>
			                   <span id="popupFieldAmount"></span>
			                   <span id="popupFieldBalance"></span>
			                 </div>
			               </div>
			             </div>
			           </div>
			           <div class="d-flex justify-content-center mt-3">
			             <button class="btn btn-success w-100 mr-2" id="btnConfirm">CONFIRM</button>
			             <button class="btn btn-secondary w-100" id="btnCancel">Cancel</button>
			           </div>
			         </div>
			       </div>
			     </div>
			   </div>
			   <style>
	.tabletheadtr, .tablebodytr {
	    display: flex;
	    justify-content: space-between;
	    gap: 20px; /* Adjust spacing between columns */
	    padding: 10px 0; /* Adds vertical spacing */
	}

	.tabletheadtr span, .tablebodytr span {
	    flex: 1;
	    text-align: center;
	    padding: 5px; /* Adds space inside each span */
	}
   </style>
</body>

</body>

</html>