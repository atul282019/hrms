<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<th:block th:include="fragments/headerlibs.html :: headerlibs"></th:block>

<body id="page-top" onload="getUserWithRole(),editUserRoleWithMoreUser(),getLinkedBankDetail(),getBankMaster(),viewEmployeeBand()" >

    <div class="bs-canvas-overlay bg-dark position-fixed w-100 h-100"></div>

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
			      
		<div th:insert="fragments/sidenav.html :: sidevav"></div>
		
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar static-top">

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav top-nav">

                        <!-- Nav Item - User Information -->
                        <li class="nav-item">
                            <a class="nav-link active" href="#">
                                <span class="mr-2 small">Dashboard</span>
                                <i class="fas fa-ellipsis-v fa-sm fa-fw"></i>
                            </a>
                        </li>
						<li class="nav-item">
                           <a class="nav-link" href="#">
                               <span class="mr-2 small">Admin Settings</span>
                               <i class="fas fa-ellipsis-v fa-sm fa-fw"></i>
                           </a>
                       </li>

                    </ul>
					<ul class="navbar-nav ml-auto">
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                               <span class="mr-2 d-none d-lg-inline text-gray-600 small" > <p th:text="${session.username}"></p> </span>
                                <img class="img-profile rounded-circle" src="img/undraw_profile.svg">
                            </a>
                            <!-- Dropdown - User Information -->
                            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                                <a class="dropdown-item" th:href="@{/ProfileInfo}">
                                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Profile
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Settings
                                </a>
                              
                               <!--  <div class="dropdown-item dropdown-footer form-group mb-0" >
					            <a class="float-right btn text-white custom-btn-dark btn-sm mb-0"  th:href="@{/logout}">
							          <i class="fas fa-user-circle"></i> Logout         
							        </a>
					          </div> -->  
                              <div class="dropdown-divider"></div>
                                <a class="dropdown-item" th:href="@{/logout}">
                                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400" > </i>
                                    Logout
                                </a>
                            </div>
                        </li>
					 </ul>		

                </nav>

                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid p-0 p-md-1">
                    <div class="row">
                        <div class="col-12">
                            <ul class="nav nav-tabs expense-tabs">
                                <li class="active"><a data-toggle="tab" href="#home1">Role Access</a></li>
                                <li><a data-toggle="tab" href="#menu11">Employee Bands</a></li>
                                <li th:if="${session.user_role == 9}" ><a data-toggle="tab" href="#menu22">Bank A/C Linking</a></li>
                               <!-- <li><a data-toggle="tab" href="#menu33">Expenses & Advance</a></li>-->
                            </ul>

                            <div class="tab-content">
                                <div id="home1" class="tab-pane in active">
                                    <div class="role-access-wrap" id="RoleAaccessWrap01">
                                        <div class="role-access-wrapin-top">
                                            <div class="role-access-wrapin-topflex d-flex justify-content-between py-3">
                                                <div>
                                                    <h4 class="mb-0">Following users have access to selected controls:
                                                    </h4>
                                                </div>
                                                <div>
                                                <button class="btn btn-border-primary mr-1 mb-1"
                                                    id="btnroleAcess">Role Access <img src="img/rollAccessIcon.png" alt="" /></button>
												 <!--<button class="btn btn-primary mb-1" id="addEditroleAccess" th:if="${session.user_role == 9}">Add/Edit View</button>-->
												 <button class="btn btn-primary mb-1" id="addEditroleAccess">Add/Edit View</button>
												                                          
                                                </div>
                                            </div>
                                        </div>
                                        <div class="role-access-wrapin-bottom">
                                            <div class="table-responsive">
                                                <table class="table table-reimbursements" id="userTable">
                                                    <thead>
                                                        <tr>
                                                            <th>ID</th>
                                                            <th>User Name</th>
                                                            <th>Email</th>
                                                            <th>Mobile</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="role-access-wrap" style="display: none;" id="RoleAaccessWrap02">
                                        <div class="role-access-wrapin-top">
                                            <div class="organisation-wrap">
                                                <h3 class="mb-2">Edit View Activated</h3>
                                            </div>
                                            <div class="role-access-wrapin-topflex d-flex justify-content-between py-3">
                                                <div>
                                                    <h4 class="mb-0">Following users have access to selected controls:
                                                    </h4>
                                                </div>
                                                <div>
                                                    <button class="btn btn-border-primary mr-1 mb-1"
                                                        id="btnroleAcess1">Role Access <img src="img/rollAccessIcon.png"
                                                            alt="" /></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="role-access-wrapin-bottom">
                                            <div class="table-responsive">
                                                <table class="table table-reimbursements" id="editUserRole">
                                                    <thead>
                                                        <tr>
                                                            <th>ID</th>
                                                            <th>Name</th>
                                                            <th>Email</th>
                                                            <th>Mobile</th>
                                                            <th>Actions</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    
                                                    </tbody>
                                                </table>
										      	<div class="table table-reimbursements">
	                                              <!-- <a href="#" class="text-green">Add +</a>-->
												  
                                                  <div colspan="8" align="right">
                                                      <button class="btn mr-1 mb-1 no-bg border-0" id="lastrowaddBtn">Add +</button>                                                            
                                                  </div>
                                                
												<!-- <button class="text-green" id="addRowButton">Add +</button>-->
	                                           </div>
                                            </div>

                                            <div class="unstyled centered d-flex mt-2">
                                                <input class="styled-checkbox" id="styled-checkbox-40" type="checkbox"
                                                    value="value1" onchange="toggleSubmitButton()">
                                                <label for="styled-checkbox-40"></label>
                                                <p class="d-inline mb-0 ml-2">I confirm that the changes made are to the
                                                    best of my knowledge, and are approved by the competent authority in
                                                    my organization.</p>
                                            </div>
											<div class="error-msg" id="styled-checkbox-40Error" style="color:red"></div>
                                            <hr>
											<input type="hidden" class="form-input" id="employerId" name="employerId" th:value="${session.id}"> 
											<input type="hidden" class="form-input" id="employerName" name="employerName" th:value="${session.username}"> 
											<input type="hidden" class="form-input" id="userMobile" name="userMobile" th:value="${session.mobile}"> 
                                            <div class="d-block text-right">
                                                <button class="btn btn-border-primary mr-1 mb-1" id="BackroleAcess">Back</button>
												<!--	<button class="btn btn-primary mb-1" onclick="roleUpdate()">Confirm Changes</button>
-->                                             <button class="btn btn-primary mb-1" id="editRole" onclick="getOTP()" disabled>Confirm Changes</button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div id="menu11" class="tab-pane">
								
									<div class="tab-content" id="defaultDiv" style="display: block">
	                               <div id="home" class="tab-pane in active">
	                                   <div class="employee-band-wrap">
	                                       <h4>Employee Bands</h4>
	                                       <p>For your understanding, Employee Bands are devised to help you segment your organization’s employees 
	                                           based on work experience, seniority, roles, pay-grade or any other criteria defined by your organization.</p>
	                                           <h5>Employee Bands are currently ‘Deactivated’</h5>
	                                           <p><b>By activating Employee Bands,</b> you can introduce segmentation and set guidelines
	                                            for the administration of employee benefits and expense allowances.</p>
	                                            <div class="d-flex justify-content-center mt-2 w-50">
	                                                <a class="btn btn-primary mx-2 w-100" data-toggle="modal" data-target="#ModalEmployeeBandSetting">Activate Employee Bands</a>
	                                          </div>
	                                   </div>
	                               </div>
								   
	                           </div>
	                           
	                            <div class="tab-content" style="display: none" id="viewBandDiv" >
	                               <div id="home" class="tab-pane in active">
	                                   <div class="bandsetting">
	                                       <h4>Expense Reimbursements </h4>
	                                       <div class="bandsetting01-wrap">
	                                           <div class="left-bandsetting d-flex">
	                                               <div class="table-check">
	                                                   <input type="checkbox" id="customCheck3" checked>
	                                               </div>
	                                               <p>Employee Bands are activated. This helps introduce segmentation and
	                                                   set guidelines for the administration of employee benefits and
	                                                   expense allowances.</p>
	                                           </div>
	                                           <div class="right-bandsetting">
	                                               <button type="button" class="btn p-0">
	                                                   <img src="img/edit.svg" alt="" data-toggle="modal" data-target="#ModalEmployeeBandActivation">
	                                               </button>
	                                           </div>
	                                       </div>
	                                   </div>

	                                   <div class="bandsetting" >
	                                       <h4>Employee Band Settings </h4>
	                                       <div class="bandsetting01-wrap">
	                                           <div class="left-bandsetting">
	                                               <div>
	                                                   <label>Number of Employee Bands</label> <input type="text" id="Noofband" class="num" readonly>
	                                               </div>
	                                               <div>
	                                                   <label>Employee Bands represented by:</label><br>
		                                                    <div class="band-option">
		                                                         <div class="form-check">
		                                                <input class="form-check-input" type="radio" name="numericFigureView" value="NumericView"
		                                                    id="numericFigure">
		                                                <label class="form-check-label" for="numericView">
		                                                    Numeric Figures
		                                                </label>
		                                            </div>
		                                            
		                                            <div class="form-check">
		                                                <input class="form-check-input" type="radio" name="numericFigureView" value="AlphabeticalView"
		                                                    id="AlphabeticalFigureView" >
		                                                <label class="form-check-label" for="AlphabeticalFigureView">
		                                                    Alphabetical Figures
		                                                </label>
		                                            </div>
	                                                   </div>
	                                               </div>
	                                               <div>
	                                                   <label>Starting Employee Band that defines the order of
	                                                       seniority</label> <input type="text"
	                                                       placeholder="Employee Band A1" class="employee">
	                                                   <div class="exclaimation"><img src="img/exclaimation.svg" alt=""
	                                                           data-toggle="tooltip" data-placement="top"
	                                                           title="The selected band forms the starting point for the order of seniority. In case A or 1 is selected, the order of seniority will be in a chronological order, with A or 1 as the base, and vice-versa.">
	                                                   </div>
	                                               </div>

	                                               <div class="table-responsive">
	                                                   <table class="table emp_Bnd_Tbl" id="viewEmployeeBandTable">
	                                                       <thead>
	                                                           <tr>
	                                                               <th>Employee Bands</th>
	                                                               <th colspan="3">Additional Tiers</th>
	                                                           </tr>
	                                                       </thead>
	                                                       <tbody>
	                                                          
	                                                       </tbody>
	                                                   </table>
	                                               </div>

	                                           </div>
	                                           <div class="right-bandsetting">
	                                               <button type="button" class="btn p-0" data-toggle="modal"
	                                                   data-target="#ModalEmployeeBandSetting">
	                                                   <img src="img/edit.svg" alt="">
	                                               </button>
	                                           </div>


	                                       </div>
	                                   </div>


	                               </div>
	                           </div>
									
								 </div>
                                <div id="menu22" class="tab-pane"> 
									<div id="menu2" class="tab-pane">
									    <div class="policies-section-bank" id="linkaccbankform" style="display: none;">
									        <div class="col-12 col-md-8 col-lg-6 mx-auto">
									            <div class="text-center">
									                <h3>Bank A/c Linking</h3>
									            </div>

									            <div class="form-linkedbank">
									                <div class="did-floating-label-content mr-2">
									                    <select class="did-floating-select" id="bankName" onchange="resetErrorMessages()">
									                       
									                    </select>
									                    <label class="did-floating-label">Select Bank</label>
									                </div>
													<div class="error-msg" id="bankNameError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
													
													<div class="did-floating-label-content mr-2">
								                    <select class="did-floating-select" id="bankAccType" onchange="resetErrorMessages()">
								                       <option value="SAVING">Saving</option>
													   <option value="CURRENT">Current</option>
								                    </select>
								                    <label class="did-floating-label">Select Account Type</label>
								                </div>
												<div class="error-msg" id="bankAccTypeError" style="color:red"></div>
									                <div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " onkeyup="validateBankname()" id="bankingName" onkeypress="resetErrorMessages()">
									                    <label class="did-floating-label" >Enter Name as on the Bank
									                        Account</label>
									                </div>
													<div class="error-msg" id="bankingNameError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
													
													
									                <div class="did-floating-label-content">
									                    <input class="did-floating-input" type="password" placeholder=" " id="bankAccNumber" 
														  minlength="10" maxlength="16" onkeypress="resetErrorMessages()"
														oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" >
									                    <label class="did-floating-label">Enter Bank A/c Number</label>
									                </div>
													<div class="error-msg" id="bankAccNumberError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
									                <div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="bankAccNumberConfirm" onkeyup="validate()" 
														 onkeypress="resetErrorMessages()" maxlength="16"
														 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
									                    <label class="did-floating-label">Re-enter Bank A/c Number</label>
									                </div>
													<div class="error-msg" id="bankAccNumberConfirmError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
									               <!-- <div class="tip-wrap justify-content-start">
									                    <p class="mb-0">The bank account numbers entered don't match each
									                        other. Please try again.</p>
									                </div>-->
													
									                <div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="bankIfsc"
														maxlength="11" onkeyup="validateIFSC()" style="text-transform:uppercase" onkeypress="resetErrorMessages()">
									                    <label class="did-floating-label">Enter IFSC Code</label>
									                </div>
													<div class="error-msg" id="bankIfscError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
													
													<div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="moblieLink" onkeypress="resetErrorMessages()"
														maxlength="10" onkeyup="validateMobile()" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" >
									                    <label class="did-floating-label">Enter Mobile Number</label>
									                </div>
													<div class="error-msg" id="moblieLinkError" style="color: red; margin-top: -10px; font-size: 12px;"></div>

													<div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="tid" maxlength="25"
														onkeypress="resetErrorMessages()" >
									                    <label class="did-floating-label">Tid</label>
								 					</div>
													<div class="error-msg" id="tidError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
													<div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="merchantId" maxlength="25"
														onkeypress="resetErrorMessages()" onkeyup="validateMerchantId()">
									                    <label class="did-floating-label">Merchant Id</label>
									                </div>
													<div class="error-msg" id="merchantIdError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
													<!--<div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="mcc" maxlength="25">
									                    <label class="did-floating-label">Mcc</label>
									                </div>
													<div class="error-msg" id="mccError" style="color:red"></div>-->
													<div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="submerchantid" maxlength="25"
														onkeypress="resetErrorMessages()" onkeyup="validateSubMerchantId()">
									                    <label class="did-floating-label"> Sub Merchant Id</label>
									                </div>
													<div class="error-msg" id="submerchantidError" style="color: red; margin-top: -10px; font-size: 12px;"></div>
													<div class="did-floating-label-content">
									                    <input class="did-floating-input" type="text" placeholder=" " id="payerva" onkeypress="resetErrorMessages()"
														maxlength="25" onkeyup="validatePayerva()">
									                    <label class="did-floating-label">Payerva</label>
									                </div>
													<div class="clearfix"></div>
													<div class="error-msg" id="payervaError" style="color:red"></div>
												
													<div class="clearfix"></div>
													<div id="otmsgdiv" style="display:none" class="alert alert-success text-center">
										            	<div id="otsuccmsg"></div>   
										            </div>
										            
										            <div id="otfailmsgDiv" style="display:none" class="alert alert-danger text-center">
										            	<div id="otfailmsg"></div>
										            </div><br>
													                        
									                <div class="d-flex justify-content-center mt-3">
														<input type="button" class="btn btn-primary w-100" id="linkBankBtn" value="AUTHENTICATE" onclick="submitLinkBankAccount()"> 
														
									                   <!-- <button class="btn btn-primary w-100" data-toggle="modal" data-target="#ModalAuthenticate">AUTHENTICATE</button>-->
									                </div>
									            </div>
									        </div>
									    </div>


									    <div class="linked-bank-account-section" id="linkedbnkacntsctn" style="display: block;">
									            <div class="text-left">
									                <h3>Linked Bank Account Details</h3>
									            </div>

									            <div class="linked-bank-account-innersection d-block">
									               
													<div id="data-wrapper"> 
														
													</div>
									               
									            </div>

									            <div class="d-flex justify-content-end">
									                <button class="btn btn-primary" id="linkedanotheraccount">Link Another Bank Account</button>
									            </div>
									    </div>

									</div>
								</div>
								
                                <div id="menu33" class="tab-pane">
									<h1>Tab pane 3</h1>
								 </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->
        </div>
		
		<div class="lds-spinner" id="signinLoader" style="display: none">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
			
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <div class="customModal modal btnroleAcessModal">
        <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg">
            <div class="modal-content modal-bulk p-0">
                <div class="modal-header pb-0">
                    <h5 class="modal-title">Role Access</h5>
                    <span id="closeBtn" class="close">&times;</span>
                </div>
                <div class="modal-body pt-0">
                    <div class="roleAccessModal-wrap">
                        <h5>Title:</h5>
                        <ul>
                            <li>Exhausted Vouchers: Completely redeemed</li>
                            <li>Revoked Vouchers: Partially redeemed</li>
                        </ul>
                    </div>
                    <div class="roleAccessModal-wrap">
                        <h5>Title:</h5>
                        <ul>
                            <li>Exhausted Vouchers: Completely redeemed</li>
                            <li>Revoked Vouchers: Partially redeemed</li>
                        </ul>
                    </div>
                    <div class="roleAccessModal-wrap">
                        <h5>Title:</h5>
                        <ul>
                            <li>Exhausted Vouchers: Completely redeemed</li>
                            <li>Revoked Vouchers: Partially redeemed</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="customModal modal btnroleAcessModal1">
        <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg">
            <div class="modal-content modal-bulk p-0">
                <div class="modal-header pb-0">
                    <h5 class="modal-title">Role Access</h5>
                    <span id="closeBtn1" class="close">&times;</span>
                </div>
                <div class="modal-body pt-0">
                    <div class="roleAccessModal-wrap">
                        <h5>Title:</h5>
                        <ul>
                            <li>Exhausted Vouchers: Completely redeemed</li>
                            <li>Revoked Vouchers: Partially redeemed</li>
                        </ul>
                    </div>
                    <div class="roleAccessModal-wrap">
                        <h5>Title:</h5>
                        <ul>
                            <li>Exhausted Vouchers: Completely redeemed</li>
                            <li>Revoked Vouchers: Partially redeemed</li>
                        </ul>
                    </div>
                    <div class="roleAccessModal-wrap">
                        <h5>Title:</h5>
                        <ul>
                            <li>Exhausted Vouchers: Completely redeemed</li>
                            <li>Revoked Vouchers: Partially redeemed</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="customModal modal" id="roleAcessOTPModal">
        <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg">
            <div class="modal-content modal-bulk p-0">
                <div class="modal-header text-center">
                    <h5 class="modal-title w-100">Confirm Role Access Changes</h5>
                </div>				
				<div class="modal-body text-center">
				    <div class="otp-box-onboarding justify-content-center">
					
					<input  class="form-control form-control-sm test" type="password" id="password1" 
						oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
				        name="password1" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
				        <input  class="form-control form-control-sm test" type="password" id="password2" 
						oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
				        name="password2" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
				        <input  class="form-control form-control-sm test" type="password" id="password3" 
						oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
				        name="password3" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
				        <input  class="form-control form-control-sm test" type="password" id="password4" 
						oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
				        name="password4" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
				        <input  class="form-control form-control-sm test" type="password" id="password5" 
						oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
				        name="password5" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
				        <input  class="form-control form-control-sm test" type="password" id="password6" 
						oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
				        name="password6" maxlength="1" autocomplete="off" onkeydown="focusBack()">
				        <input  class="form-control form-control-sm test" type="hidden" id="orderId" 
				        name="orderId" >
				    </div>
				   <label class="time-otp ml-0 text-dark" for="" id="countdown" style="color: green;"></label>
				  <!-- <div class="text-center" id="countdown" style="color: green;"></div>-->
					<p id="resendCode">Didn’t receive the code?  <a href="#" onclick="resendVoucherOTP()">Resend OTP</a></p>
					
					<div class="error-msg" id="otpError" style="color:red"></div>
				    
					<div class="tip-wrap justify-content-center">
				        <p class="mb-0">OTP code has been sent to your phone. Enter OTP to validate issuance.</p>
				    </div>
					
					
					
				    <div class="d-flex justify-content-center mt-3">
						<!--
				        <button class="btn btn-primary w-100" id="authenticatereport">Authenticate</button>
						-->
						<button class="btn btn-primary w-100" id="authenticate"  onclick="verfyIssueVoucherOTP()">Authenticate</button>
				    </div>
				</div>

				
            </div>
        </div>
    </div>

	<div class="customModal modal" id="addRoleAcessOTPModal">
	        <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg">
	            <div class="modal-content modal-bulk p-0">
	                <div class="modal-header text-center">
	                    <h5 class="modal-title w-100">Confirm Add Users Roles</h5>
	                </div>				
					<div class="modal-body text-center">
					    <div class="otp-box-onboarding justify-content-center">
						
						<input  class="form-control form-control-sm test" type="password" id="password11" 
							oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
					        name="password1" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
					        <input  class="form-control form-control-sm test" type="password" id="password22" 
							oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
					        name="password2" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
					        <input  class="form-control form-control-sm test" type="password" id="password33" 
							oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
					        name="password3" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
					        <input  class="form-control form-control-sm test" type="password" id="password44" 
							oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
					        name="password4" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
					        <input  class="form-control form-control-sm test" type="password" id="password55" 
							oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
					        name="password5" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
					        <input  class="form-control form-control-sm test" type="password" id="password66" 
							oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
					        name="password6" maxlength="1" autocomplete="off" onkeydown="focusBack()">
					        <input  class="form-control form-control-sm test" type="hidden" id="orderId" 
					        name="orderId" >
					    </div>
					   <label class="time-otp ml-0 text-dark" for="" id="countdown" style="color: green;"></label>
					  <!-- <div class="text-center" id="countdown" style="color: green;"></div>-->
						<p id="resendCode">Didn’t receive the code?  <a href="#" onclick="resendVoucherOTP()">Resend OTP</a></p>
					    <div class="tip-wrap justify-content-center">
					        <p class="mb-0">OTP code has been sent to your phone. Enter OTP to validate issuance.</p>
					    </div>
						
						<div class="error-msg" id="otpError" style="color:red"></div>
						
					    <div class="d-flex justify-content-center mt-3">
							<!--
					        <button class="btn btn-primary w-100" id="authenticatereport">Authenticate</button>
							-->
							<button class="btn btn-primary w-100" id="authenticateAdd"  onclick="verfyAddRoleOTP()">Authenticate</button>
					    </div>
					</div>

					
	            </div>
	        </div>
	    </div>

	<div id="popup">
	        <h3>Employee Details</h3>
	        <p id="popupContent"></p>
	        <button onclick="closePopup()">Close</button>
	</div>
	
	<div class="customModal modal lastrowaddBtnWrap">
	    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-xl">
	        <div class="modal-content modal-bulk p-0">
	            <div class="modal-header">
	                <h5 class="modal-title">Add Role </h5>
	                <span id="closeBtn0" class="close">&times;</span>
	            </div>
	            <div class="modal-body pt-0">
	                <div class="role-access-wrapin-bottom role-access-wrapin-bottom-add">
	                    <div class="table-responsive">
	                        <table class="table table-reimbursements" id="resultTable">
								<thead id="tableHeader">
					               <!-- Headers will be dynamically generated -->
						           </thead>
						           <tbody id="tableBody">
					               <!-- Rows will be dynamically generated -->
					           </tbody>
	                        </table>
							
							<div>
                                <div class="autocomp-input-wrap">
                                    <!--<input type="text" class="autocomp-input" id="search"
                                    placeholder="Search Employee..."
                                    autocomplete="off">-->
									<input type="text" class="autocomp-input" id="searchBox" placeholder="Search Employee..." oninput="searchEmployee()" />
                                <div id="autocomplete-suggestions"
                                    class="autocomplete-dropdown"></div>
                                </div>                                                                
                            </div>
							<div class="unstyled centered d-flex mt-2">
                               <input class="styled-checkbox" id="styled-checkbox-41" type="checkbox"
                                   value="Yes">
                               <label for="styled-checkbox-41"></label>
                               <p class="d-inline mb-0 ml-2">I confirm that the changes made are to the
                                   best of my knowledge, and are approved by the competent authority in
                                   my organization.</p>
                           </div>
						   <div class="error-msg" id="styled-checkbox-41Error" style="color:red"></div>
	                    </div>

	                    <div class="d-block text-right">
	                        <button class="btn btn-primary mb-1" onclick="getAddOTP()" id="addSubmit">Submit</button>
						  <!-- <button class="btn btn-primary mb-1" onclick="addRole()()">Submit</button>-->
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>

    <div class="customModal modal" id="roleAcessModalSuccessful">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-bulk p-0">
                <div class="modal-top text-center">
                    <button type="button" class="close p-0" id="roleAcessSuccessfulClose" data-dismiss="modal" aria-label="Close" style="right: 10px; top: 0;">
                        <img src="img/modal-close.svg" alt="">
                    </button>
                    <img src="img/modal-success.svg" alt="">
                </div>
                <div class="modal-bottom">
                    <span>Role Acess Modal Successful</span>
                </div>
            </div>
        </div>
    </div>
	
	
	 <!-- Modal Modal Employee Band Setting -->
	    <div class="modal fade" id="ModalEmployeeBandSetting" tabindex="-1" role="dialog"
	        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	        <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg" role="document">
	            <div class="modal-content modal-bulk">
	                <div class="modal-header pb-0">
	                    <h5 class="modal-title" id="exampleModalCenterTitle">Employee Band Settings</h5>
	                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                        <span aria-hidden="true">×</span>
	                    </button>
	                </div>
	                <div class="modal-body">
	                    <hr class="mt-0">
	                    <div id="carouselExampleFade" class="carousel slide employeeCarousel" data-ride="carousel" data-touch="false" data-interval="false">
	                        <div class="carousel-inner">
	                            <div class="carousel-item active">
	                            <form id="formtab1" >
	                                <div class="slide-wrap">
	                                    <div class="d-flex">
	                                        <div class="table-check mr-2">
	                                            <input type="checkbox" id="employeeBandEnabled" checked>
	                                        </div>
	                                        <p class="mb-0">Employee bands enabled</p>
	                                    </div>
	                                    <div class="error-msg" id="employeeBandEnabledError" style="color:red"></div>
	                                    <div class="d-flex align-items-center mb-2">
	                                        <p class="mb-0">Define the number of Employee Bands</p>
	                                        <!--  <select class="did-floating-select" id="dropdown" onchange="handleDropdownChange()" > -->
	                                         <select class="did-floating-select" id="dropdown" >
	                                             <option value="1">1</option>
	                                             <option value="2">2</option>
	                                             <option value="3">3</option>
	                                             <option value="4">4</option>
	                                             <option value="5">5</option>
	                                             <option value="6">6</option>
	                                        </select>
	                                    </div>
	                                    <div class="error-msg" id="dropdownError" style="color:red"></div>
	                                    <div>
	                                        <p>Choose how the Employee Bands must be represented</p>
	                                    </div>
	                                    <div>
	                                        <div class="band-option">
	                                            <div class="form-check">
	                                                <input class="form-check-input" type="radio" name="numericFigure" value="Numeric"
	                                                    id="numericFigure" onclick="handleDropdownNumeric()">
	                                                <label class="form-check-label" for="numericFigure">
	                                                    Numeric Figures
	                                                </label>
	                                            </div>
	                                            
	                                            <div class="form-check">
	                                                <input class="form-check-input" type="radio" name="numericFigure" value="Alphabetical" onchange="handleDropdownAlpha()"
	                                                    id="AlphabeticalFigure" >
	                                                <label class="form-check-label" for="AlphabeticalFigure">
	                                                    Alphabetical Figures
	                                                </label>
	                                            </div>
	                                            
	                                        </div>
	                                        <div class="" id="numericFigureError" style="color:red"></div> 
	                                        
	                                    </div>
	                                    <div class="my-4">
	                                        <div class="info-msg">
	                                            <strong>‘Numerical Figures’ would be showcased as Bands 1, 2, 3... till n,
	                                                whereas ‘Alphabetical Figures’ would be showcased as Bands A, B, C... till n.</strong>
	                                        </div>
	                                    </div>
	                                    <div class="d-flex align-items-center">
	                                        <p class="mb-0">Choose the starting Employee Band to define the order of seniority </p>
	                                        <select class="did-floating-select mx-2 min-w170" id="startingEmployeeAlpha" style="display: block" onchange="change();">
	                                           <option value="ascending">Ascending</option>
	                                           <option value="descending">Descending</option>
	                                        </select>
	                                        
	                                        <select class="did-floating-select mx-2 min-w170" id="startingEmployeeNumeric" style="display: none" onchange="change();">
	                                            <option value="ascending">Ascending</option>
	                                            <option value="descending">Descending</option>
	                                        </select>
	                                        
	                                        <div class="exclaimation"><img src="img/exclaimation.svg" alt="" data-toggle="tooltip" data-placement="top"
	                                             title="The selected band forms the starting point for the order of seniority. In case A or 1 is selected, the order of seniority will be in a chronological order, with A or 1 as the base, and vice-versa.">
	                                        </div>
	                                        
	                                    </div>
	                                   
	                                    <hr>

	                                    <ul class="custom-slid-bar">
	                                        <li class="highlight">1</li>
	                                        <li>2</li>
	                                        <li>3</li>
	                                    </ul>

	                                    <div class="d-flex justify-content-center mt-2">
	                                        <button class="btn btn-primary w-100" type="button" onclick="validateTab1()" id="continewTab1" style="display:block"> Continue </button>
	                                        <button class="btn btn-primary w-100" data-target="#carouselExampleFade" id="continewTab2" data-slide="next" style="display:none"> Continue </button>
	                                    </div>
	                                </div>
	                                </form>
	                            </div>
	                            <div class="carousel-item">
	                            <form id="formtab2">
	                                <div class="slide-wrap">
	                                    <div class="d-flex">
	                                        <div class="table-check mr-2">
	                                            <input type="checkbox" id="addtionalTiersCheckBox" onclick="toggleColumn()" class="coupon_question" checked>
	                                        </div>
	                                        <p class="mb-0">Introduce additional Tiers to each Employee Band</p>
	                                    </div>
	                                    <div class="error-msg" id="gstnNoError" style="color:red"></div>
	                                    <hr>            
	                                   	<div class="table-responsive">
	                                   		<table id="bandTable" class="table no-bordered empolyee-band-head-modal newTable" colpadding="5">
	                                   			<thead>
	                                   				<tr>
	                                   				   <th>Employee Bands</th>
	                                   				   <th>Additional Tiers</th>
	                                   				</tr>
	                                   			</thead>
		                                   			  <tbody>
		                                   			  </tbody>
	                                   		</table>
	                                   	</div>
	                                       
	                                    <ul class="custom-slid-bar">                                    
	                                        <li class="highlight">1</li>
	                                        <li class="highlight">2</li>
	                                        <li>3</li>                                   
	                                    </ul>

	                                    <div class="d-flex justify-content-center mt-2">
	                                        <button class="btn btn-border mx-2 w-49" data-target="#carouselExampleFade" data-slide="prev">Back</button>
	                                        <button class="btn btn-primary mx-2 w-49" data-target="#carouselExampleFade" data-slide="next" id="continew2" onclick="saveEmployeeBandTab2()">Continue</button>
	                                        <button class="btn btn-primary mx-2 w-49" data-target="#carouselExampleFade" data-slide="next" id="continewNext" style="display:none" onclick="saveEmployeeBandTab2()">Continue</button>
	                                    </div>
	                                </div>
	                                </form>
	                            </div>
	                            <div class="carousel-item">
	                            <form id="formTab3">
	                                <div class="slide-wrap">
	                                    <div class="d-block">
	                                        <p class="mb-0">Please review and confirm the Employee Bands below</p>
	                                    </div>
	                                    <div class="d-flex align-items-center my-2" id="alphaSeniority">
	                                        <p class="mb-0">Starting Employee Band that defines the order of seniority</p>
	                                        <select class="did-floating-select mx-2 min-w170" id="reviewDropdown">
	                                        </select>
	                                    </div>
	                                    
	                                    <hr>
	                                    
	                                    <div class="table-responsive">
	                                    	<table class="table empolyee-band-table" id="dynamicTable">
	                                    		<thead>
	                                    			<tr>
	                                    				<th class="bandlabel">Employee Bands</th>
	                                    				<th class="bandlabel01" >Additional Tiers</th>
	                                    				<th class="bandlabel01" ></th>
	                                    				<th class="bandlabel01"></th>
	                                    				<th class="bandlabel01" ></th>
	                                    				<th class="bandlabel01" ></th>
	                                    				<th class="bandlabel01" ></th>
	                                    			</tr>
	                                    		</thead>
	                                    		<tbody>
	                                    			
	                                    		</tbody>
	                                    	</table>
	                                    </div>
	                                    
	                                    <ul class="custom-slid-bar">
	                                        <li class="highlight">1</li>
	                                        <li class="highlight">2</li>
	                                        <li class="highlight">3</li>
	                                    </ul>

	                                    <div class="d-flex justify-content-center mt-2">
	                                        <button class="btn btn-border mx-2 w-49" data-target="#carouselExampleFade" data-slide="prev">Back</button>
	                                        
						                    <button class="btn btn-primary mx-2 w-49" id="close" onclick="close()">
						                       <span aria-hidden="true">Confirm</span>
						                    </button>
						                    
	                                    </div>
	                                    <div class="lds-spinner" id="signinLoader" style="display:none"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div> 
	                                </div>
	                               </form>
	                               <input type="hidden" class="form-input" id="employerId" name="employerId" th:value="${session.id}">
	                            </div>
	                        </div>
	                        
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	    
	    
	     <!-- Modal Choose Type of Advance Request -->
	   <div class="modal fade" id="ModalEmployeeBandActivation" tabindex="-1" role="dialog"
	   aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	   <div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
	       <div class="modal-content modal-bulk">
	           <div class="modal-header pb-0">
	               <h5 class="modal-title" id="exampleModalCenterTitle">Employee Band Activation</h5>
	               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                   <span aria-hidden="true">×</span>
	               </button>
	           </div>
	           <div class="modal-body">
	            <div class="d-flex">
	                <div class="table-check mr-2">
	                    <input type="checkbox" id="customCheck2">
	                </div>
	                <p class="mb-0">Employee Bands are activated. This helps introduce segmentation and set guidelines for the administration of employee benefits and expense allowances.</p>
	            </div>
	               <div class="d-flex justify-content-center mt-3">
	                   <button class="btn btn-primary w-100">Confirm</button>
	               </div>
	           </div>
	       </div>
	   </div>
	</div>
	
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="js/demo/datatables-demo.js"></script>
	<script type="text/javascript" src="cotodel-js/user-role-access.js"></script>
	<!--
	<script type="text/javascript" src="cotodel-js/employee-profile.js"></script>
	-->
	<script type="text/javascript" src="cotodel-js/employee-band.js"></script>

	<script src="cotodel-js/linked-account.js"></script>

	 
	<script type="text/javascript">
	
		function toggleColumn() {
		    var checkBox = document.getElementById('addtionalTiersCheckBox');
		    var elements = document.getElementsByClassName('dropdownvalue');
		    
		    for (var i = 0; i < elements.length; i++) {
		        if (checkBox.checked) {
		            elements[i].style.display = '';
		        } else {
		            elements[i].style.display = 'none';
		        }
		    }
		}

		// Initially hide the column
		document.addEventListener('DOMContentLoaded', function() {
		    document.getElementById('addtionalTiersCheckBox').checked = true;
		    toggleColumn();
		});

		function close(){
			window.location.href = "http://localhost:9191/roleAccess";
		}	
	
	$(document).ready(function(){
		
		  $('li.active').removeClass('active').removeAttr('aria-current'); 
		  $('a[href="' +'/roleAccess"]').closest('li').addClass('active').attr('aria-current', 'page');   
		  
	   $(".innernav").click(function(){
	       $(".dropdownNav").addClass("active");
	   });
	});

	</script>
	
    <script>
		

			   
		
		$(document).ready(function () {
           // Show the modal when the button is clicked
           $("#lastrowaddBtn").click(function () {
               $(".lastrowaddBtnWrap").show();
           });

           // Hide the modal when the close button is clicked
           $("#closeBtn0").click(function () {
               $(".lastrowaddBtnWrap").hide();
           });

           // Optionally, hide the modal if the user clicks outside the modal content
           $(window).click(function (event) {
               if ($(event.target).is(".lastrowaddBtnWrap")) {
                   $(".lastrowaddBtnWrap").hide();
               }
           });
       });
			   
        $(document).ready(function () {
            // Show the modal when the button is clicked
            $("#btnroleAcess").click(function () {
                $(".btnroleAcessModal").show();
            });

            // Hide the modal when the close button is clicked
            $("#closeBtn").click(function () {
                $(".btnroleAcessModal").hide();
            });

            // Optionally, hide the modal if the user clicks outside the modal content
            $(window).click(function (event) {
                if ($(event.target).is(".btnroleAcessModal")) {
                    $(".btnroleAcessModal").hide();
                }
            });
        });
        ////////////////////////
        $(document).ready(function () {
            // Show the modal when the button is clicked
            $("#btnroleAcess1").click(function () {
                $(".btnroleAcessModal1").show();
            });

            // Hide the modal when the close button is clicked
            $("#closeBtn1").click(function () {
                $(".btnroleAcessModal1").hide();
            });

            // Optionally, hide the modal if the user clicks outside the modal content
            $(window).click(function (event) {
                if ($(event.target).is(".btnroleAcessModal1")) {
                    $(".btnroleAcessModal1").hide();
                }
            });
        });

        ////////////////////////
        $(document).ready(function () {
            // Show the modal when the button is clicked
            $("#AuthenticateClose").click(function () {
                $("#roleAcessOTPModal").hide();
                $("#roleAcessModalSuccessful").show();
            });

        });

        ///////////////////

        $(document).ready(function () {
            // When the button is clicked, show the div
            $("#ConfirmroleAccess").click(function () {
                $("#roleAcessOTPModal").show();  // Show the div
            });
        });


         ///////////////////

         $(document).ready(function () {
            // When the button is clicked, show the div
            $("#roleAcessSuccessfulClose").click(function () {
                $("#roleAcessModalSuccessful").hide();  // Show the div
            });
        });

        // Get the elements
        var addEditroleAccess = document.getElementById("addEditroleAccess");
        var RoleAaccessWrap01 = document.getElementById("RoleAaccessWrap01");
        var RoleAaccessWrap02 = document.getElementById("RoleAaccessWrap02");

        // Add event listener to the button
        addEditroleAccess.onclick = function () {
            // Toggle the visibility of the divs
            if (RoleAaccessWrap01.style.display !== "none") {
                RoleAaccessWrap01.style.display = "none"; // Hide the first div
                RoleAaccessWrap02.style.display = "block"; // Show the second div
            } else {
                firstDiv.style.display = "block"; // Show the first div
                RoleAaccessWrap02.style.display = "none"; // Hide the second div
            }
        }
        ///////////////
        // Get the elements
        var addEditroleAccess = document.getElementById("addEditroleAccess");
        var RoleAaccessWrap01 = document.getElementById("RoleAaccessWrap01");
        var RoleAaccessWrap02 = document.getElementById("RoleAaccessWrap02");

        // Add event listener to the button
        BackroleAcess.onclick = function () {
            // Toggle the visibility of the divs
            if (RoleAaccessWrap02.style.display !== "none") {
                RoleAaccessWrap02.style.display = "none"; // Hide the first div
                RoleAaccessWrap01.style.display = "block"; // Show the second div
            }
        }

    </script>
		
</body>

</html>