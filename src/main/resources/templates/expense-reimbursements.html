<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<!--<th:block th:include="fragments/headerlibs.html :: headerlibs"></th:block>-->
<head th:fragment="headerlibs">
       
   <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta id="ctx" name="ctx" th:content="${#httpServletRequest.getContextPath()}" />

    <title>Dashboard</title>

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">

    <!-- Custom styles for this page -->
    <link href="vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/css/intlTelInput.css">
	 <link rel="stylesheet" type="text/css" href="css/slick/slick.css" />
	 <link rel="stylesheet" type="text/css" href="css/slick/slick-theme.css" />
    <link rel="stylesheet" href="css/custom.css">
    <script type="text/javascript" src="js/xsls-export.js"></script>

	<style>
	    .abc-container {
	        display: flex;
	        align-items: center; /* Align items vertically */
	        gap: 10px; /* Space between inputs */
	    }
	    
	    .abc-container label {
	        font-size: 14px;
	        color: #666;
	        min-width: 150px; /* Adjust label width if needed */
	    }
	    
	    .abc-container input, .abc-container textarea {
	        flex: 1; /* Make inputs flexible */
	        padding: 8px;
			width: 100 px;
	        border: 1px solid #ccc;
	        border-radius: 4px;
	    }

	</style>
	
</head>
	
<body id="page-top" onload="getExpanceCategoryList(),getExpanceMaster(),getExpanceMasterMulti(),
getExpanceCategoryApprovalList(),getCashAdvanceRequestList(),getTravelExpenseApprovalList(),getTravelExpenseApprovalList()">

	<!-- Page Wrapper -->
	<div id="wrapper">

		<!-- Sidebar -->

		<div th:insert="fragments/sidenav.html :: sidevav"></div>

		<!-- End of Sidebar -->

		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">

				<!-- Topbar -->
				<nav
					class="navbar navbar-expand navbar-light bg-white topbar static-top">

					<!-- Topbar Navbar -->
					<ul class="navbar-nav top-nav">

						<!-- Nav Item - User Information -->
						<!--<li class="nav-item"><a class="nav-link active" href="#">
								<span class="mr-2 small">Dashboard</span> <i
								class="fas fa-ellipsis-v fa-sm fa-fw"></i>
						</a></li>
						<li class="nav-item"><a class="nav-link" href="#"> <span
								class="mr-2 small">Expenses & Advances</span> <i
								class="fas fa-ellipsis-v fa-sm fa-fw"></i>
						</a></li>-->

					</ul>
					
					<!-- Right Icons + Profile -->
								    <ul class="navbar-nav d-flex flex-row align-items-center mb-0">
								      <!-- Wallet Icon -->
								     <!-- <li class="nav-item mr-3">
								        <a href="/settings/wallet" role="button">
								          <img src="img/Wallet-icon.png" alt="Wallet" class="nav-icon-img" >
								        </a>
								      </li>-->
									  <li class="nav-item mr-3" th:switch="${session.user_role}">
		  		  	  			        <a th:case="2" role="button">
		  		  	  			          <img src="img/Wallet-icon.png" alt="Wallet" class="nav-icon-img" >
		  		  	  			        </a>
		  		  						<a th:case="*" href="/cotowallet" role="button">
		  		  	  			          <img src="img/Wallet-icon.png" alt="Wallet" class="nav-icon-img" >
		  		  	  			        </a>
		  		  	  			      </li>
								      <!-- Notification Icon -->
								      <li class="nav-item mr-3">
								        <a href="#" role="button">
								          <img src="img/Notification-icon.png" alt="Notification" class="nav-icon-img">
								        </a>
								      </li>

								      <!-- Profile Dropdown -->
								      <li class="nav-item dropdown no-arrow">
								        <a class="nav-link dropdown-toggle p-0" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								          <img class="img-profile rounded-circle" src="img/undraw_profile.svg" alt="User" style="width: 32px; height: 32px;">
								        </a>
								        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
								          <a class="dropdown-item" href="/ProfileInfo">
								            <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Profile
								          </a>
								       <!--   <a class="dropdown-item" href="#">
								            <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i> Settings
								          </a>-->
								          <div class="dropdown-divider"></div>
								          <a class="dropdown-item" href="/logout">
								            <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i> Logout
								          </a>
								        </div>
								      </li>
								    </ul>
				</nav>

				<!-- End of Topbar -->

				<!-- Begin Page Content -->
				<div class="container-fluid p-0 p-md-1">
					<div class="row">
						<div class="col-12">
							<ul  class="nav nav-underline">
								<li class="nav-item" ><a data-toggle="tab" href="#home" class="nav-link active">Expenses & Advances</a></li>
                                <li class="nav-item" th:if="${session.user_role == 1 or session.user_role == 9 or session.user_role == 3}"><a data-toggle="tab" href="#menu1" id="pendingApproval" class="nav-link">Pending Approvals</a></li>
                               <!-- <li><a data-toggle="tab" href="#menu2">Linked Bank Account</a></li>-->
                            </ul>

							<div class="tab-content">
								<div id="home" class="tab-pane in active">

									<div class="policies-section">
										<div class="policies-wrap">
											<div
												class="d-flex justify-content-between border-btm modal-head-secd px-0 py-3">
												<div>
													<h4 class="mb-0">Expense Reimbursements</h4>
												</div>
												<div>
													<a href="#" id="downloadExcel" class="mx-1">
													    <img src="img/download-black.svg" alt="Download">
													</a>
													<!--<a href="#"
														class="mx-1"><img src="img/delete-black.svg" alt=""></a>-->
													<a href="#" class="mx-1"><img src="img/info-black.svg"
														alt=""></a>
												</div>
											</div>

											<div class="policies-wrap-in-table">
												<div class="table-responsive">
													<table class="table table-reimbursements"
														id="reimbursementTable">
														<thead>
															<tr>
																<th>
																	<div class="table-check">
																		<input type="checkbox" id="customCheck3">
																	</div>
																</th>
																<th>EXPENSE ID</th>
																<th>DATE & TIME</th>
																<th>CATEGORY</th>
																<th>TITLE</th>
																<th>AMOUNT</th>
																<th>APPROVED AMOUNT</th>
																<th>APPROVED BY</th>
																<th>STATUS</th>
																<th>MODE OF PAYMENT</th>
																<th>ACTIONS</th>
															</tr>
														</thead>
														<tbody>

														</tbody>
													</table>
													<div class="last-add">
														<div colspan="9" style="padding: .75rem;">
															<a href="#" class="add-ctgry" data-toggle="modal"
															data-target="#ModalAddExpenseReimbursement">+ Add Expense Reimbursements</a>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="policies-wrap">

											<div
												class="d-flex justify-content-between border-btm modal-head-secd px-0 py-3">
												<div>
													<h4 class="mb-0">Advance & Travel Requests</h4>
												</div>
												<div>
													<a href="#" id="downloadExcel2" class="mx-1">
													    <img src="img/download-black.svg" alt="Download">
													</a>
													<!-- <a href="#"
														class="mx-1"><img src="img/delete-black.svg" alt=""></a>-->
													<a href="#" class="mx-1"><img src="img/info-black.svg"
														alt=""></a>
												</div>
											</div>

											<div class="policies-wrap-in-table">
												<div class="table-responsive">
													<table class="table table-reimbursements" id="tblCashAdvanceTravel">
														<thead>
															<tr>
																<th><input type="checkbox" id="customCheck88"></th>
																<th >EXPENSE ID</th>
																<th>DATE & TIME</th>
																<th>CATEGORY</th>
																<!--<th>TITLE</th>-->
																<th>AMOUNT</th>
																<th>APPROVED AMOUNT</th>
																<th>APPROVED BY</th>
																<th>STATUS</th>
																<th>MODE OF PAYMENT</th>
																
																<th>ACTIONS</th>
															</tr>
														</thead>
														<tbody>
															
														</tbody>
													</table>
													
													<div class="last-add">
														<div colspan="9" style="padding: .75rem;">
															<a href="#" class="add-ctgry"
															data-toggle="modal"
															data-target="#ModalChooseAdvanceRequest">+ Request Advance</a>
														</div>
													</div>
																										
												</div>
											</div>

										</div>

									</div>

								</div>
								<div id="menu1" class="tab-pane ">
                                    <div class="policies-section">

                                        <div class="policies-wrap">
                                            <div
                                                class="d-flex justify-content-between border-btm modal-head-secd px-0 py-3">
                                                <div>
                                                    <h4 class="mb-0">Approve Pending Expense Reimbursements </h4>
                                                </div>
                                                <div class="d-flex">
                                                    <button class="custom-dd-btn approveIcon"></button>
                                                    <button class="custom-dd-btn rejectIcon ml-2"></button>
                                                    <div class="dropdown no-arrow ml-2">
                                                        <a class="dropdown-toggle custom-dd-btn sortIcon" href="#"
                                                            id="userDropdown" role="button" data-toggle="dropdown"
                                                            aria-haspopup="true" aria-expanded="false"> Sort by
                                                            <img src="img/Short.svg" alt="" class="ml-2">
                                                        </a>
                                                        <!-- Dropdown - User Information -->
                                                        <div class="dropdown-menu dropdown-menu-right shadow"
                                                            aria-labelledby="userDropdown">
                                                            <a class="dropdown-item py-2" href="#">Category</a>
                                                            <a class="dropdown-item py-2" href="#">Employee name</a>
                                                            <a class="dropdown-item py-2" href="#">Department</a>
                                                            <a class="dropdown-item py-2" href="#">Location</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="policies-wrap-in-table">
                                            <div class="table-responsive">
                                                <table class="table table-approval-flow" id="tableApprovalFlow">
                                                    <thead>
                                                        <tr>
                                                            <th>
                                                                <div class="table-check">
                                                                    <input type="checkbox" id="customCheck0">
                                                                </div>
                                                            </th>
                                                            <th>EXPENSE ID</th>
                                                            <th>CATEGORY</th>
                                                            <th>EMPLOYEE</th>
                                                            <th>DEPARTMENT</th>
															<th>TITLE</th>
                                                            <th>AMOUNT</th>
															<th>APPROVED AMOUNT</th>
															<th>APPROVED BY</th>
                                                            <th>STATUS</th>
                                                            <th>PAYMENT MODE</th>
                                                            <th>ACTIONS</th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
								<!--cash Travel Request Advace-->
								
								<div class="policies-section">

                                <div class="policies-wrap">
                                    <div
                                        class="d-flex justify-content-between border-btm modal-head-secd px-0 py-3">
                                        <div>
                                            <h4 class="mb-0">Approve Pending Advance & Travel Requests </h4>
                                        </div>
                                        <div class="d-flex">
                                            <button class="custom-dd-btn approveIcon"></button>
                                            <button class="custom-dd-btn rejectIcon ml-2"></button>
                                            <div class="dropdown no-arrow ml-2">
                                                <a class="dropdown-toggle custom-dd-btn sortIcon" href="#"
                                                    id="userDropdown" role="button" data-toggle="dropdown"
                                                    aria-haspopup="true" aria-expanded="false"> Sort by
                                                    <img src="img/Short.svg" alt="" class="ml-2">
                                                </a>
                                                <!-- Dropdown - User Information -->
                                                <div class="dropdown-menu dropdown-menu-right shadow"
                                                    aria-labelledby="userDropdown">
                                                    <a class="dropdown-item py-2" href="#">Category</a>
                                                    <a class="dropdown-item py-2" href="#">Employee name</a>
                                                    <a class="dropdown-item py-2" href="#">Department</a>
                                                    <a class="dropdown-item py-2" href="#">Location</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="policies-wrap-in-table">
                                    <div class="table-responsive">
                                        <table class="table table-approval-flow" id="tableCashAdvacceTravelApprovalFlow">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        <div class="table-check">
                                                            <input type="checkbox" id="customCheck0">
                                                        </div>
                                                    </th>
													
                                                    <th>EXPENSE ID</th>
                                                 <!--   <th>DATE & TIME</th>-->
                                                    <th>CATEGORY</th>
													<th>NAME</th>
													<th>DEPARTMENT</th>
                                                    <th>AMOUNT</th>
													<th>APPROVED AMOUNT</th>
													<th>APPROVED BY</th>
													<th>STATUS</th>
													<th>PAYMENT MODE</th>
                                                    <th>ACTIONS</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>

								
								<!--Cansh Travel Advance Request end-->
                                    <div class="policies-section">
                                        <div class="policies-wrap">
                                            <div class="d-flex justify-content-between px-0 py-3">
                                                <div>
                                                    <h4 class="mb-0">Add Expense Reimbursements </h4>
                                                </div>
                                            </div>

                                            <p>The following are the advance settlements that are approved but yet to be
                                                paid. You can reject them in case you change your mind</p>
                                            <div class="custom-alert custom-alert-info">No Pending expense
                                                claims/advance settlements are there to show.</div>
                                        </div>
                                    </div>

                                </div>
							</div>
						</div>

					</div>

				</div>
				<!-- /.container-fluid -->

			</div>
			<!-- End of Main Content -->
		</div>

		<div class="lds-spinner" id="signinLoader" style="display: none">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>

		<!-- End of Content Wrapper -->

	</div>
	<!-- End of Page Wrapper -->

	<!-- Scroll to Top Button-->
	<a class="scroll-to-top rounded" href="#page-top"> <i
		class="fas fa-angle-up"></i>
	</a>

	<!-- Bootstrap core JavaScript-->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Core plugin JavaScript-->
	<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom scripts for all pages-->
	<script src="js/sb-admin-2.min.js"></script>

	<!-- Page level plugins -->
	<script src="vendor/datatables/jquery.dataTables.min.js"></script>
	<script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

	<!-- Page level custom scripts -->
	<script src="js/demo/datatables-demo.js"></script>

	<script type="text/javascript" src="cotodel-js/expenses-reimbursement.js"></script>
	
	<script type="text/javascript" src="cotodel-js/cash-advance-request.js"></script>
		
	<script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
	
	<script type="text/javascript" src="cotodel-js/employee-profile.js"></script>
	
	<!-- Include SheetJS for XLSX file generation -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
	

	<script>
		document.addEventListener("DOMContentLoaded", function () {
		    function preventRedirect(event) {
		        event.preventDefault();
		        event.stopPropagation();
		        console.log("Button click prevented from redirecting.");
		    }

		    // Prevent redirect for delete button
		    let deleteBtn = document.querySelector(".col-12 form .btn img[src='img/del.svg']");
		    if (deleteBtn) {
		        deleteBtn.parentElement.addEventListener("click", preventRedirect);
				//deleteSelectedPDFs();
		    }

		    // Prevent redirect for save button
		    let saveBtn = document.querySelector(".col-12 form .btn img[src='img/save.svg']");
		    if (saveBtn) {
		        saveBtn.parentElement.addEventListener("click", preventRedirect);
		    }

		    // Download Single Form Data as Excel
		    let downloadBtn = document.querySelector(".col-12 form .btn img[src='img/download.svg']");
		    if (downloadBtn) {
		        downloadBtn.parentElement.addEventListener("click", function (event) {
		            preventRedirect(event);
		            downloadSingleExpenseExcel();
		        });
		    }

		    function downloadSingleExpenseExcel() {
		        // Ensure all form elements exist
		        const getValue = (id) => document.getElementById(id) ? document.getElementById(id).value : "";

		        // Define headers and values
		        const headers = [
		            "Expense Category", "Date of Expense", "Expense Title",
		            "Vendor Name", "Invoice Number", "Currency",
		            "Amount", "Mode of Payment", "Additional Remarks"
		        ];

		        const rowData = [
		            getValue("expenseCategorySingle"),
		            getValue("dateSingle"),
		            getValue("expenseTitleSingle"),
		            getValue("vendorNameSingle"),
		            getValue("invoiceNumberSingle"),
		            getValue("currencySingle"),
		            getValue("amountSingle"),
		            getValue("modeofpaymentSingle"),
		            getValue("remarkSingle")
		        ];

		        // Format as a table: Headers in first row, data in second row
		        const sheetData = [headers, rowData];

		        // Create a new worksheet and workbook
		        let ws = XLSX.utils.aoa_to_sheet(sheetData);
		        let wb = XLSX.utils.book_new();
		        XLSX.utils.book_append_sheet(wb, ws, "Single Expense Data");

		        // Apply column width formatting (optional)
		        ws['!cols'] = headers.map(() => ({ width: 20 }));

		        // Export the XLSX file
		        XLSX.writeFile(wb, "single_expense_data.xlsx");
		    }
		});


	</script>

	<script>		
		document.addEventListener("DOMContentLoaded", function () {
	    function preventRedirect(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        console.log("Button click prevented from redirecting.");
	    }

	    // Prevent redirect on Delete button click
	    let deleteBtn = document.querySelector(".btn img[src='img/del.svg']");
	    if (deleteBtn) {
	        deleteBtn.parentElement.addEventListener("click", preventRedirect);
			//deleteSelectedPDFs();
	    }

	    // Prevent redirect on Save button click
	    let saveBtn = document.querySelector(".btn img[src='img/save.svg']");
	    if (saveBtn) {
	        saveBtn.parentElement.addEventListener("click", preventRedirect);
	    }

	    // Download All Form Data as Excel
	    let downloadBtn = document.querySelector(".btn img[src='img/download.svg']");
	    if (downloadBtn) {
	        downloadBtn.parentElement.addEventListener("click", function (event) {
	            preventRedirect(event);
	            downloadExcel();
	        });
	    }

	    function downloadExcel() {
	        // Function to safely get input values (avoid errors if elements are missing)
	        const getValue = (id) => document.getElementById(id) ? document.getElementById(id).value : "";

	        // Define headers and values for Excel
	        const headers = [
	            "Expense Category", "Date of Expense", "Expense Title",
	            "Vendor Name", "Invoice Number", "Currency",
	            "Amount", "Mode of Payment", "Additional Remarks"
	        ];

	        const rowData = [
	            getValue("expenseCategory"),
	            getValue("dateofExpense"),
	            getValue("expenseTitle"),
	            getValue("venderName"),
	            getValue("invoiceNumber"),
	            getValue("currency"),
	            getValue("amount"),
	            getValue("modeofPayment"),
	            getValue("additionalRemark")
	        ];

	        // Format as a table: Headers in first row, data in second row
	        const sheetData = [headers, rowData];

	        // Create a new worksheet and workbook
	        let ws = XLSX.utils.aoa_to_sheet(sheetData);
	        let wb = XLSX.utils.book_new();
	        XLSX.utils.book_append_sheet(wb, ws, "Expense Data");

	        // Apply column width formatting for better visibility
	        ws['!cols'] = headers.map(() => ({ width: 20 }));

	        // Export the Excel file
	        XLSX.writeFile(wb, "expense_data.xlsx");
	    }
	});

</script>
	<script>
		document.getElementById("downloadExcel").addEventListener("click", function () {
	    exportToExcel("reimbursementTable", ".policies-wrap:first-of-type h4");
	    });

	    document.getElementById("downloadExcel2").addEventListener("click", function () {
	        exportToExcel("tblCashAdvanceTravel", ".policies-wrap:nth-of-type(2) h4");
	    });;
	</script>
	<script>		
		document.addEventListener("DOMContentLoaded", function () {
	    function handleCheckboxToggle(headerCheckboxId, tableId) {
	        const headerCheckbox = document.getElementById(headerCheckboxId);

	        if (headerCheckbox) {
	            headerCheckbox.addEventListener("change", function () {
	                const checkboxes = document.querySelectorAll(`#${tableId} tbody input[type='checkbox']`);
	                checkboxes.forEach(checkbox => {
	                    checkbox.checked = this.checked;
	                });
	            });
	        }
	    }

	    // Apply to both tables
	    handleCheckboxToggle("customCheck3", "reimbursementTable");
	    handleCheckboxToggle("customCheck88", "tblCashAdvanceTravel");
	});
</script>
 <script>
		function showConfirmModal() {
		    $('#travelDetailsTable1').modal('hide'); // Close the current modal

		    // Wait for the modal to fully close, then show ModalConfirm
		    $('#travelDetailsTable1').on('hidden.bs.modal', function () {
		        $('#ModalConfirm').modal('show');
		    });
		}

	</script>
	<script>
		function showTable(tableId) {
		    // Hide all tables
		    document.querySelectorAll('.table-responsive').forEach(table => {
		        table.style.display = 'none';
		    });
		    // Show the selected table
		    document.getElementById(tableId).style.display = 'block';
		}
	</script>
   <script> 
	
	document.addEventListener("DOMContentLoaded", function () {
	    const continueButton = document.getElementById("continueButton");

	    continueButton.addEventListener("click", function () {
	        const travelRequestRadio = document.getElementById("flexRadioDefault1");

	        if (travelRequestRadio.checked) {
	            // Hide the current modal
	            //$('#ModalChooseAdvanceRequest').modal('hide');
	            // Show the Travel Request modal
	            $('#travelDetailsTable').modal('show');
				//$('#ModalTravelRequest').modal('show');
	        } else {
	            // Default behavior or actions for Cash Advance
	            $('#ModalCashAdvanceRequest').modal('show');
	        }
	    });
	});
   </script>
	<script>
		
	///	$(document).ready(function () {
	//	           $("#linkedanotheraccount").click(function () {
	//	               $("#linkaccbankform").show();
	//	               $("#linkedbnkacntsctn").hide();

	//	           });
	//	       });
			   
        $(document).ready(function () {
            $("#hide").click(function () {
                $(".ftr-content").hide();
            });
            $("#show").click(function () {
                $(".ftr-content").show();
            });
        });

        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>

	<script>
	$(document).ready(function(){
		 $(".innernav").click(function(){
	        $(".dropdownNav").addClass("active");
	    });
		 $('li.active').removeClass('active').removeAttr('aria-current'); 
		  $('a[href="' + location.pathname + '"]').closest('li').addClass('active').attr('aria-current', 'page');     
	});
	
	</script>
	<script>
        $(document).ready(function () {
            $("#hide").click(function () {
                $(".ftr-content").hide();
            });
            $("#show").click(function () {
                $(".ftr-content").show();
            });
        });
        
        function readURL(input) {     	
            if (input.files && input.files[0]) {
                var reader = new FileReader();
				var fileName=input.files[0].name;
				var fileType=input.files[0].type;

                reader.onload = function (e) {
                 //   $('#blah').attr('src', e.target.result);
				 const fullBase64 = e.target.result;
                 const base64Data = fullBase64.split(',')[1];
				 if (fileType === "application/pdf") {
					   sendToOcr(base64Data,"file",fileName);
	                 } else {
						sendToOcr(base64Data,"image",fileName);
	                 }			
                };
                reader.readAsDataURL(input.files[0]);
            }
            
            if (input.files && input.files[0]) {
                var reader = new FileReader();
				var fileName=input.files[0].name;
				var fileType=input.files[0].type;
				
				if(fileType==="application/pdf"){
	                reader.onload = function (e) {
	                    $('#imagePDF').attr('src', e.target.result);
	                    $('#base64PDF').val(e.target.result);
	                    document.getElementById("imagePDF").style.display="block";
	                    document.getElementById("imageAdd").style.display="none";
	                };
				}
				else{
					reader.onload = function (e) {
	                    $('#imageAdd').attr('src', e.target.result);
	                    document.getElementById("imageAdd").style.display="block";
	                    document.getElementById("imagePDF").style.display="none";
	                };
				}
                reader.readAsDataURL(input.files[0]);
            }
        }
        
   function readURLSingle(input) {
        	
        	document.getElementById("fileUploadView").style.display="block";
        	document.getElementById("fileUploadDiv").style.display="none";
            if (input.files && input.files[0]) {
                var reader = new FileReader();
				var fileName=input.files[0].name;
				var fileType=input.files[0].type;

                reader.onload = function (e) {
				 const fullBase64 = e.target.result;
                 const base64Data = fullBase64.split(',')[1];
 				 if (fileType === "application/pdf") 
				 {
				   sendToOcrSingle(base64Data,"file",fileName);
                 } else {
					sendToOcrSingle(base64Data,"image",fileName);
                 }
				            
                };
                reader.readAsDataURL(input.files[0]);   
            }
            
            if (input.files && input.files[0]) {
                var reader = new FileReader();
				var fileName=input.files[0].name;
				var fileType=input.files[0].type;
				
				if(fileType==="application/pdf"){
	                reader.onload = function (e) {
	                    $('#imagePDFSingle').attr('src', e.target.result);
	                    $('#base64PDFSingle').val(e.target.result);
						
	                    document.getElementById("imagePDFSingle").style.display="block";
	                    document.getElementById("imageAddSingle").style.display="none";
	                };
				}
				else{
					reader.onload = function (e) {
	                    $('#imageAddSingle').attr('src', e.target.result);
	                    document.getElementById("imageAddSingle").style.display="block";
	                    document.getElementById("imagePDFSingle").style.display="none";
	                };
				}
				
                reader.readAsDataURL(input.files[0]);
            }
        }     
    </script>
	
	<script>
		document.addEventListener("DOMContentLoaded", () => {
		    const dropZone = document.getElementById("drop-zone");
		    const fileInput = document.getElementById("fileInput");
		    // Initialize fileArray with potentially null values if files are deleted
		    const fileArray = [];

		    // Attach event listeners
		    document.getElementById('fileInput').addEventListener('change', handleFileUpload);
		    const mergeButton = document.getElementById('merge-button');
	        if (mergeButton) { // Check if button exists
	            mergeButton.addEventListener('click', mergeSelectedPDFs);
	        }
		    const deleteButton = document.getElementById('delete-button');
	        if (deleteButton) { // Check if button exists
	             deleteButton.addEventListener('click', deleteSelectedPDFs);
	        }


		    function handleFileUpload(event) {
		        // Check if the file input itself is used, or files are dropped (though drop uses handleFiles directly)
		        const files = Array.from(event.target.files); // Always get from target.files for change event
		        handleFiles(files);
		        // Reset input value to allow selecting the same file again
		        event.target.value = '';
		    }

		    function handleFiles(files) {
		        // Ensure the main document view div is shown
		        const docViewDiv = document.getElementById('docViewDiv');
	            if (docViewDiv) docViewDiv.style.display = "block";

	            const maxFiles = 5; // Define max files constant

		        for (const file of files) {
		            // Count non-null files currently in the array
		            const currentFileCount = fileArray.filter(f => f !== null).length;

		            if (currentFileCount >= maxFiles) {
		                Swal.fire({
		                    text: `You can only upload up to ${maxFiles} files.`,
		                    confirmButtonText: 'OK'
		                });
		                // Stop processing further files if limit reached
		                break;
		            }

		            // Find the next available slot (null entry) or push to the end
		            let index = fileArray.findIndex(f => f === null);
		            if (index === -1) {
		                index = fileArray.length;
		                fileArray.push(file);
		            } else {
		                fileArray[index] = file; // Replace the null entry
		            }

		            // Add the file to the list display
		            addFileToList(file, index);
		        }

		         // Hide drop zone if max files are added
	             const currentFileCount = fileArray.filter(f => f !== null).length;
	            if (currentFileCount >= maxFiles) {
	                const dropZone = document.getElementById("drop-zone");
	                if(dropZone) dropZone.style.display = "none";
	            }
		    }


		    function addFileToList(file, index) {
		        const fileList = document.getElementById('show-list');
	            if (!fileList) return; // Exit if list element doesn't exist

		        const fileItem = document.createElement('div');
		        fileItem.className = 'file-item';
		        // Store the index on the file item element for easier removal later
		        fileItem.dataset.index = index;


		        const checkbox = document.createElement('input');
		        checkbox.type = 'checkbox';
		        // Use a unique identifier for the checkbox based on index and sanitized file name
		        const safeFileName = file.name.replace(/[^a-zA-Z0-9.\-_]/g, ''); // Allow some common characters
		        checkbox.id = `file-${index}-${safeFileName}`;
		        checkbox.name = 'pdfFiles';
		        // Use the stored index as the value
		        checkbox.value = index;
		        checkbox.addEventListener('change', updateSelectedFiles);

		        const label = document.createElement('label');
		        label.htmlFor = checkbox.id; // Link label to the checkbox ID
		        label.textContent = file.name; // Display original file name

		        const sizeSpan = document.createElement('span');
		        sizeSpan.textContent = formatBytes(file.size); // Format size for better readability
	            sizeSpan.style.marginLeft = '10px'; // Add a little space

		        fileItem.appendChild(checkbox);
		        fileItem.appendChild(label);
		        fileItem.appendChild(sizeSpan); // Append the size span
		        fileList.appendChild(fileItem);
		    }

		    // Helper function to format file size
		    function formatBytes(bytes, decimals = 2) {
	            if (bytes === 0) return '0 Bytes';
	            const k = 1024;
	            const dm = decimals < 0 ? 0 : decimals;
	            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];
	            const i = Math.floor(Math.log(bytes) / Math.log(k));
	            return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
	        }


		    async function mergeSelectedPDFs() {
		        // Filter out null entries from fileArray based on *checked* checkboxes
		        const selectedFiles = Array.from(document.querySelectorAll('input[name="pdfFiles"]:checked'))
		            .map(checkbox => {
	                     const index = parseInt(checkbox.value);
	                     return fileArray[index]; // Get the file object from the array by index
	                })
		            .filter(file => file instanceof File); // Ensure it's a valid File object

		        if (selectedFiles.length === 0) {
		            Swal.fire({
		                text: 'Please select at least one file to merge.',
		                confirmButtonText: 'OK'
		            });
		            return;
		        }

	            // Check if PDFLib is available
	            if (typeof PDFLib === 'undefined') {
	                 Swal.fire({
	                    text: 'PDFLib library is not loaded. Cannot perform merge.',
	                    icon: 'error',
	                    confirmButtonText: 'OK'
	                });
	                console.error("PDFLib is not loaded.");
	                return;
	            }


		        const mergedPdf = await PDFLib.PDFDocument.create();
		        // Array to store base64 strings for *all* images processed
		        const imageBase64Array = [];

		        for (const file of selectedFiles) {
	                // Skip null entries if any somehow got through (shouldn't happen with the filter above)
	                if (!file) continue;

		            const arrayBuffer = await file.arrayBuffer();

		            if (file.type === "application/pdf") {
		                try {
		                    const pdf = await PDFLib.PDFDocument.load(arrayBuffer);
		                    // Check if the PDF has pages before copying
	                        if (pdf.getPageCount() > 0) {
	                            const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
	                            copiedPages.forEach((page) => mergedPdf.addPage(page));
	                        } else {
	                            console.warn("Skipping empty PDF:", file.name);
	                             Swal.fire({
	                                text: `Warning: Skipping empty PDF file: ${file.name}`,
	                                icon: 'warning',
	                                confirmButtonText: 'OK'
	                            });
	                        }
		                } catch (err) {
		                    console.error("Error loading PDF:", file.name, err);
		                    Swal.fire({
		                        text: `Error reading PDF: ${file.name}`,
		                        icon: 'error',
		                        confirmButtonText: 'OK'
		                    });
		                    // Decide if you want to stop the process or continue with the next file
		                    // return; // uncomment to stop on first error
		                }
		            } else if (file.type.startsWith("image/")) {
		                try {
		                    const imageBytes = new Uint8Array(arrayBuffer);
		                    let imageEmbed, dims;

		                    if (file.type === "image/png") {
		                        imageEmbed = await mergedPdf.embedPng(imageBytes);
		                    } else if (file.type === "image/jpeg" || file.type === "image/jpg") {
		                        imageEmbed = await mergedPdf.embedJpg(imageBytes);
		                    } else {
	                        // Handle other image types if needed, e.g., embedPng might work for some GIFs
	                        console.warn(`Unsupported image type for embedding: ${file.name}`);
	                         Swal.fire({
	                            text: `Warning: Unsupported image type: ${file.name}`,
	                            icon: 'warning',
	                            confirmButtonText: 'OK'
	                        });
	                        continue; // Skip to next file
	                    }


		                    // Define a standard page size (e.g., A4)
	                        const finalPageWidth = 595; // A4 Portrait width in points
	                        const finalPageHeight = 842; // A4 Portrait height in points

	                        // Calculate scaling to fit within A4 while maintaining aspect ratio
	                        const imgWidth = imageEmbed.width;
	                        const imgHeight = imageEmbed.height;

	                        let scaleFactor = 1;
	                        // Only scale down if the image is larger than the page dimensions
	                        if (imgWidth > finalPageWidth || imgHeight > finalPageHeight) {
	                             scaleFactor = Math.min(finalPageWidth / imgWidth, finalPageHeight / imgHeight);
	                        }


	                        dims = imageEmbed.scale(scaleFactor);

		                    // Create a new page with the standard size
	                        const page = mergedPdf.addPage([finalPageWidth, finalPageHeight]);

	                        // Calculate centered position
	                        const xPos = (finalPageWidth - dims.width) / 2;
	                        const yPos = (finalPageHeight - dims.height) / 2;


		                    page.drawImage(imageEmbed, {
		                        x: xPos,
		                        y: yPos,
		                        width: dims.width,
		                        height: dims.height,
	                            // Add margins if desired, e.g., x: xPos + margin, y: yPos + margin, width: ..., height: ...
		                    });

		                    // Generate base64 of this image and push to the array
	                        try {
	                           const base64 = await fileToBase64(file);
	                           imageBase64Array.push(base64);
	                        } catch(b64Err) {
	                            console.error("Error converting image to base64:", file.name, b64Err);
	                             Swal.fire({
	                                text: `Error converting image to base64: ${file.name}`,
	                                icon: 'error',
	                                confirmButtonText: 'OK'
	                            });
	                        }


		                } catch (err) {
		                    console.error("Error embedding image:", file.name, err);
		                    Swal.fire({
		                        text: `Error embedding image into PDF: ${file.name}`,
		                        icon: 'error',
		                        confirmButtonText: 'OK'
		                    });
		                     // Decide if you want to stop the process or continue with the next file
		                     // return; // uncomment to stop on first error
		                }
		            } else {
		                Swal.fire({
		                    text: `Unsupported file type selected: ${file.name} (${file.type})`,
		                    icon: 'warning',
		                    confirmButtonText: 'OK'
		                });
		                 // Decide if you want to stop the process or continue with the next file
		                 // return; // uncomment to stop on first error
		            }
		        }

		        // Check if any content was added before saving
		        if (mergedPdf.getPageCount() === 0) {
	             Swal.fire({
	                text: 'No valid content could be processed from selected files.',
	                icon: 'warning',
	                confirmButtonText: 'OK'
	             });
	             // Clear previous outputs if merge failed
	             $('#base64PDF').val('');
	             $('#base64Image').val('');
	             const imagePDFViewer = document.getElementById('imagePDF');
	             if(imagePDFViewer) imagePDFViewer.src = '';
	             const imageAddPlaceholder = document.getElementById('imageAdd');
	             if (imageAddPlaceholder) imageAddPlaceholder.style.display = "block";

	             return;
	            }


		        const mergedPdfBytes = await mergedPdf.save();
		        const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
		        const url = URL.createObjectURL(blob);

		        // Assuming #imagePDF is an iframe or object tag for viewing the PDF blob
		        const imagePDFViewer = document.getElementById("imagePDF");
	            if (imagePDFViewer) {
	                imagePDFViewer.src = url; // Use src for iframe/object
	                imagePDFViewer.style.display = "block";
	            } else {
	                 console.error("PDF viewer element #imagePDF not found.");
	            }

		        // Assuming #imageAdd is some initial placeholder element
		        const imageAddPlaceholder = document.getElementById("imageAdd");
	            if (imageAddPlaceholder) imageAddPlaceholder.style.display = "none";


		        // Store the merged PDF base64
	            const base64PDFInput = $('#base64PDF'); // Use jQuery if it's available
	            if (base64PDFInput.length) {
	                base64PDFInput.val(arrayBufferToBase64(mergedPdfBytes));
	            } else {
	                 console.warn("#base64PDF input field not found.");
	            }

		        // Store the array of image base64 strings as a JSON string
	            const base64ImageInput = $('#base64Image'); // Use jQuery
	             if (base64ImageInput.length) {
	                base64ImageInput.val(JSON.stringify(imageBase64Array));
	            } else {
	                 console.warn("#base64Image input field not found.");
	            }


		        Swal.fire({
		            text: 'Files merged successfully.',
		            icon: 'success',
		            confirmButtonText: 'OK'
		        });

		        // Assuming exampleModalCenterTitle is an element you want to hide
		        const modalTitle = document.getElementById("exampleModalCenterTitle");
		        if (modalTitle) modalTitle.style.display = "none";

		        // Note: URL.revokeObjectURL(url) should be called when the URL is no longer needed
	            // (e.g., when new files are uploaded/merged, or the viewer is closed).
	            // This can be tricky depending on the viewer implementation.
		    }

		    function arrayBufferToBase64(buffer) {
		        let binary = '';
		        const bytes = new Uint8Array(buffer);
		        const len = bytes.byteLength;
		        // Use a loop that handles large buffers efficiently
	            // Using chunking can prevent "Maximum call stack size exceeded" errors for very large files
	            const chunkSize = 8192;
	            for (let i = 0; i < len; i += chunkSize) {
	                binary += String.fromCharCode.apply(null, bytes.subarray(i, i + chunkSize));
	            }
		        return window.btoa(binary);
		    }

		    function fileToBase64(file) {
		        return new Promise((resolve, reject) => {
		            const reader = new FileReader();
		            reader.onload = () => {
	                    // reader.result is a data URL (e.g., "data:image/png;base64,...")
	                    // We want just the base64 part after the comma
	                    const base64String = reader.result.split(',')[1];
	                    resolve(base64String);
	                }
		            reader.onerror = error => reject(error);
		            reader.readAsDataURL(file); // Read file as data URL
		        });
		    }

		    function deleteSelectedPDFs() {
		        const selectedCheckboxes = document.querySelectorAll('input[name="pdfFiles"]:checked');

		        if (selectedCheckboxes.length === 0) {
		             // No files selected to delete
	                Swal.fire({
	                    text: 'Please select a file to delete.',
	                    confirmButtonText: 'OK'
	                });
	                return; // Stop the function if nothing is selected
		        }

	            let filesDeletedCount = 0;
		        selectedCheckboxes.forEach(checkbox => {
		            const index = parseInt(checkbox.value);
		            // Ensure the index is valid and corresponds to a non-null entry before deleting
	                if (index >= 0 && index < fileArray.length && fileArray[index] !== null) {
	                    // Remove the file item from the DOM
	                    const fileItemElement = checkbox.closest('.file-item');
	                    if (fileItemElement) {
	                       fileItemElement.remove();
	                    }

	                    // Set the entry in fileArray to null
	                    fileArray[index] = null;
	                    filesDeletedCount++;
	                }
		        });

	            // Count remaining non-null files
	            const remainingFilesCount = fileArray.filter(f => f !== null).length;

	            // Check if the file list is now empty
	            if (remainingFilesCount === 0) {
	                const docViewDiv = document.getElementById('docViewDiv');
	                if (docViewDiv) docViewDiv.style.display = "none"; // Hide file list area

	                const imagePDFViewer = document.getElementById('imagePDF');
	                if (imagePDFViewer) {
	                    imagePDFViewer.style.display = "none"; // Hide PDF viewer
	                    imagePDFViewer.src = ''; // Clear the viewer content
	                }

	                 const imageAddPlaceholder = document.getElementById("imageAdd");
	                 if (imageAddPlaceholder) imageAddPlaceholder.style.display = "block"; // Show placeholder again
	            }

	            // Show drop zone again if space is available
	             const dropZone = document.getElementById("drop-zone");
	            if (dropZone && remainingFilesCount < 5) { // Use 5 or your maxFiles constant
	                 dropZone.style.display = "block";
	            }


	            if (filesDeletedCount > 0) {
	                Swal.fire({
	                    text: `Selected file(s) deleted successfully.`,
	                    icon: 'success',
	                    confirmButtonText: 'OK'
	                });

	                // Clear the merged output as the source files changed
	                const base64PDFInput = $('#base64PDF');
	                 if (base64PDFInput.length) base64PDFInput.val('');

	                const base64ImageInput = $('#base64Image');
	                if (base64ImageInput.length) base64ImageInput.val('');

	                // Update the list of selected files displayed below buttons
	                updateSelectedFiles();

	            } else {
	                 Swal.fire({
	                    text: 'No selected files were found in the list to delete.',
	                    icon: 'warning',
	                    confirmButtonText: 'OK'
	                });
	            }
		    }


		    function updateSelectedFiles() {
		        // Get values (indices) from *currently checked* checkboxes
		        const selectedIndices = Array.from(document.querySelectorAll('input[name="pdfFiles"]:checked'))
		            .map(checkbox => parseInt(checkbox.value))
	                .filter(index => index >= 0 && index < fileArray.length && fileArray[index] !== null); // Ensure index is valid and file exists


		        const selectedFilesDiv = document.getElementById('selected-files');
	             if (!selectedFilesDiv) return; // Exit if element not found

		        selectedFilesDiv.innerHTML = ''; // Clear current list

	            if (selectedIndices.length > 0) {
	                 selectedIndices.forEach(index => {
	                    const file = fileArray[index]; // Get the file object by index
	                    if (file) { // Should exist based on the filter above, but good practice
	                        const fileDiv = document.createElement('div');
	                        fileDiv.className = 'top-badge mr-2';

	                        const fileDiv2 = document.createElement('div');
	                        fileDiv2.className = 'table-check';
	                        fileDiv2.textContent = file.name; // Display the file name

	                        // The anchor/img part seems decorative based on the class names
	                        // and doesn't perform an action here. Remove if not needed.
	                        // const anchor = document.createElement('a');
	                        // anchor.href = '#';

	                        // const img = document.createElement('img');
	                        // img.src = 'img/attach.svg'; // Or remove if not functional
	                        // img.alt = '';

	                        // anchor.appendChild(img);
	                        // fileDiv2.appendChild(anchor);

	                        fileDiv.appendChild(fileDiv2);
	                        selectedFilesDiv.appendChild(fileDiv);
	                    }
	                });
	            } else {
	                // Optionally display a message like "No files selected"
	                // selectedFilesDiv.textContent = 'No files selected for merge';
	            }
		    }

	        // --- Drag and Drop Event Listeners ---
	        const dropZoneElement = document.getElementById("drop-zone");
	        if (dropZoneElement) {
	            dropZoneElement.addEventListener("dragover", (e) => {
	                e.preventDefault();
	                dropZoneElement.classList.add("dragover");
	            });

	            dropZoneElement.addEventListener("dragleave", () => {
	                dropZoneElement.classList.remove("dragover");
	            });

	            dropZoneElement.addEventListener("drop", (e) => {
	                e.preventDefault();
	                dropZoneElement.classList.remove("dragover");
	                const droppedFiles = Array.from(e.dataTransfer.files);
	                handleFiles(droppedFiles); // Use the shared handleFiles function
	            });

	             dropZoneElement.addEventListener("click", () => {
	                const fileInput = document.getElementById("fileInput");
	                if(fileInput) fileInput.click();
	            });
	        } else {
	             console.warn("Drop zone element #drop-zone not found.");
	        }


		    // --- Initial State Setup ---
	        // Ensure the file list div is hidden initially if no files are loaded (which is the case on page load)
	        const docViewDiv = document.getElementById('docViewDiv');
	        if (docViewDiv && fileArray.filter(f => f !== null).length === 0) {
	             docViewDiv.style.display = "none";
	        }

	        // Also hide the PDF viewer and show placeholder initially
	         const imagePDFViewer = document.getElementById('imagePDF');
	         if (imagePDFViewer) imagePDFViewer.style.display = "none";

	         const imageAddPlaceholder = document.getElementById('imageAdd');
	         if (imageAddPlaceholder) imageAddPlaceholder.style.display = "block";

	        // The drop zone visibility is handled by handleFiles/deleteSelectedPDFs based on file count.
	        // No specific action needed here on load unless you have pre-loaded files.

		});
	</script>
	
<!--	<script>
	
        document.addEventListener("DOMContentLoaded", () => {
        const dropZone = document.getElementById("drop-zone");
        const fileInput = document.getElementById("fileInput");
        document.getElementById('fileInput').addEventListener('change', handleFileUpload);
        document.getElementById('merge-button').addEventListener('click', mergeSelectedPDFs);
        document.getElementById('delete-button').addEventListener('click', deleteSelectedPDFs);
        const fileArray = [];

        function handleFileUpload(event) {
        	document.getElementById('docViewDiv').style.display="block";
            const file = event.target.files[0];
        //    if (file && file.type === 'application/pdf') {
            	 if (fileArray.length == 5) {
            		 document.getElementById("drop-zone").style.display = "none";
            	
                     window.alert = function () { };
	                // Use SweetAlert to display an alert
	                Swal.fire({
	                   // title: 'Custom Alert',
	                    text: 'You can only upload up to 5 files.',
	                    //icon: 'success',
	                    confirmButtonText: 'OK'
	                }); 
                
                     return;
                 }
                fileArray.push(file);
                addFileToList(file);
       //     }
            event.target.value = ''; // Reset the input value
        }

        function addFileToList(file) {
            const fileList = document.getElementById('show-list');
            const fileItem = document.createElement('div');
            fileItem.className = 'file-item';

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = file.name;
            checkbox.name = 'pdfFiles';
            checkbox.value = fileArray.length - 1;
            checkbox.addEventListener('change', updateSelectedFiles);


            const label = document.createElement('label');
            label.htmlFor = file.name;
            label.textContent = file.name;
            
            const label2 = document.createElement('span');
            label2.htmlFor = file.size;
            label2.textContent = file.size+" KB";

            fileItem.appendChild(checkbox);
            fileItem.appendChild(label);
            fileItem.appendChild(label2);
            fileList.appendChild(fileItem);
        }

        async function mergeSelectedPDFs() {
			const selectedFiles = Array.from(document.querySelectorAll('input[name="pdfFiles"]:checked'))
			       .map(checkbox => fileArray[checkbox.value])
			       .filter(file => file); // Ensure no nulls

			   if (selectedFiles.length === 0) {
			       Swal.fire({
			           text: 'Please select at least one file.',
			           confirmButtonText: 'OK'
			       });
			       return;
			   }
            const fileType = selectedFiles[0].type;
            
              const mergedPdf = await PDFLib.PDFDocument.create();
			  for (const file of selectedFiles) {
			         const arrayBuffer = await file.arrayBuffer();

			         if (file.type === "application/pdf") {
			             // Handle PDF files
			             try {
			                 const pdf = await PDFLib.PDFDocument.load(arrayBuffer);
			                 const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
			                 copiedPages.forEach((page) => mergedPdf.addPage(page));
			             } catch (err) {
			                 console.error("Error loading PDF:", file.name, err);
			                 Swal.fire({
			                     text: `Error reading PDF: ${file.name}`,
			                     icon: 'error',
			                     confirmButtonText: 'OK'
			                 });
			             }
			         } else if (file.type.startsWith("image/")) {
			             // Handle image files
			             try {
			                 const imageBytes = new Uint8Array(arrayBuffer);
			                 let imageEmbed, dims;

			                 if (file.type === "image/png") {
			                     imageEmbed = await mergedPdf.embedPng(imageBytes);
			                 } else {
			                     imageEmbed = await mergedPdf.embedJpg(imageBytes); // default for JPG or others
			                 }

			                 dims = imageEmbed.scale(1);
			                 const page = mergedPdf.addPage([dims.width, dims.height]);
			                 page.drawImage(imageEmbed, {
			                     x: 0,
			                     y: 0,
			                     width: dims.width,
			                     height: dims.height,
			                 });
			             } catch (err) {
			                 console.error("Error embedding image:", file.name, err);
			                 Swal.fire({
			                     text: `Error reading image: ${file.name}`,
			                     icon: 'error',
			                     confirmButtonText: 'OK'
			                 });
			             }
			         } else {
			             Swal.fire({
			                 text: `Unsupported file type: ${file.name}`,
			                 icon: 'warning',
			                 confirmButtonText: 'OK'
			             });
			         }
			     }

				     const mergedPdfBytes = await mergedPdf.save();
				     const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
				     const url = URL.createObjectURL(blob);

				     // Set preview and base64
				     document.getElementById("imagePDF").src = url;
				     document.getElementById("imagePDF").style.display = "block";
				     document.getElementById("imageAdd").style.display = "none";

				     $('#base64PDF').val(arrayBufferToBase64(mergedPdfBytes));

				     Swal.fire({
				         text: 'Files merged successfully.',
				         icon: 'success',
				         confirmButtonText: 'OK'
				     });

				     const modalfirst = document.getElementById("exampleModalCenterTitle");
				     if (modalfirst) modalfirst.style.display = "none";
				 }

        function arrayBufferToBase64(buffer) {
            let binary = '';
            const bytes = new Uint8Array(buffer);
            const len = bytes.byteLength;
            for (let i = 0; i < len; i++) {
                binary += String.fromCharCode(bytes[i]);
            }
            return window.btoa(binary);
        }
        

        function deleteSelectedPDFs() {
            const selectedCheckboxes = document.querySelectorAll('input[name="pdfFiles"]:checked');
           
            if (fileArray.length <= 5) {
       		 document.getElementById("drop-zone").style.display = "block";
            }
            if (selectedCheckboxes.length === 0) {
            	document.getElementById("drop-zone").style.display = "none";
            	
            	
            	 window.alert = function () { };
                // Use SweetAlert to display an alert
                Swal.fire({
                   // title: 'Custom Alert',
                    text: 'Please select PDF file to delete.',
                   // icon: 'success',
                    confirmButtonText: 'OK'
                });
                
                return;
            }
            selectedCheckboxes.forEach(checkbox => {
                const index = parseInt(checkbox.value);
                fileArray[index] = null; // Mark the file as null
                checkbox.parentElement.remove(); // Remove the file item from the list
                
                 window.alert = function () { };
                // Use SweetAlert to display an alert
                Swal.fire({
                   // title: 'Custom Alert',
                    text: 'Selected File deleted Successfully.',
                    icon: 'success',
                    confirmButtonText: 'OK'
                });
                
            });

            // Clear the merged PDF display and Base64 string
            $('#base64PDF').val('');
            document.getElementById('imagePDF').src = '';
        }
        
        function updateSelectedFiles() {
            const selectedFiles = Array.from(document.querySelectorAll('input[name="pdfFiles"]:checked')).map(checkbox => fileArray[checkbox.value].name);
            const selectedFilesDiv = document.getElementById('selected-files');
            selectedFilesDiv.innerHTML = '';
            selectedFiles.forEach(fileName => {
            	
                const fileDiv = document.createElement('div');
                fileDiv.className = 'top-badge mr-2';
               
                const fileDiv2 = document.createElement('div');
                fileDiv2.className = 'table-check';
                fileDiv2.textContent = fileName;
                
                
                const anchor = document.createElement('a');
                anchor.href = '#';

                // Step 2: Create the image element
                const img = document.createElement('img');
                img.src = 'img/attach.svg';
                img.alt = '';

                // Step 3: Append the image to the anchor
                anchor.appendChild(img);
                
                fileDiv2.appendChild(anchor);
                fileDiv.appendChild(fileDiv2);
                selectedFilesDiv.appendChild(fileDiv);
            });
        }
         
        let files = [];
        let fileToRemoveIndex = null;

        dropZone.addEventListener("dragover", (e) => {
            e.preventDefault();
            dropZone.classList.add("dragover");
        });

        dropZone.addEventListener("dragleave", () => {
            dropZone.classList.remove("dragover");
        });

        dropZone.addEventListener("drop", (e) => {
        e.preventDefault();
        dropZone.classList.remove("dragover");

        const droppedFiles = Array.from(e.dataTransfer.files);
        handleFiles(droppedFiles);
        
        });

        dropZone.addEventListener("click", () => {
            fileInput.click();
        }); 

    });
	
</script>-->
<!-- modal unsuccessfull-->
<div class="modal fade" id="ModalReject" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	        <div class="modal-dialog modal-dialog-centered" role="document">
	        <div class="modal-content modal-bulk">
				<!--<button type="button" class="close position-absolute" data-dismiss="modal" aria-label="Close"
				              style="top: 10px; right: 10px; z-index: 1051; background: none; border: none;">
				        <img src="img/modal-close.svg" alt="Close" style="width: 20px; height: 20px;">
				      </button>-->

	            <div class="modal-top text-center">          
	            <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
	                <img src="img/modal-close.svg" alt="">
	            </button>        
	            <img src="img/modal-reject.svg" alt="">
	            </div>
	            <div class="modal-bottom">
	                <span class="required-star"></span>
	            </div>
	        </div>
	        </div>
	    </div>

	<!-- Modal Add Expense Reimbursements -->

	<div class="modal fade" id="ModalAddExpenseReimbursement" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true" data-backdrop="static" data-keyboard="false">
		<div
			class="modal-dialog modal-lg modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Add
						Expense Reimbursements</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close" id="firstPopup" onclick="closeFirstPopup()">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<hr class="mt-0">
					<div class="add-file-docs" id="docViewDiv" style="display: none">
                            <div class="add-file-docs-top">Uploaded Documents</div>
                            <div class="add-file-docs-mid p-0" id="show-list">
						
                            </div>
                           
                            <div class="add-file-docs-btm">
                                <div class="d-flex justify-content-between">
                                	<div class="d-flex multipic-wrap">
                                		<a href="#" class="mx-1"><img src="img/info.svg" alt=""></a>	
                                		<p class="mb-0">For multiple pictures/documents of the same expense, use ‘Merge’ to combine them into one document</p>
                                	</div>
                                	<div class="d-flex justify-content-evenly align-items-center merge-wrapp">
				                        <!-- <button id="merge-button" class="mx-1 d-flex align-items-center"> <img src="img/merge.svg" alt="">Merge</button>
				                        <button id="delete-button" class="mx-1 d-flex align-items-center"><img src="img/info.svg" alt="" >Delete</button> -->
				                        <a href="#" data-toggle="modal" data-target="#Modaladdfilesmerge" class="mx-1 d-flex align-items-center"><img src="img/merge.svg" alt="">Merge</a>
				                        <a href="#" data-toggle="modal" data-target="#Modaladdfilesdel" class="mx-1 d-flex align-items-center"><img src="img/info.svg" alt="" >Delete </a>
				                    </div>
                                </div>
                            </div>
                        </div>
					
					<div class="add-files container no-before p-0" id="drop-zone">
			
							<div class="form-group-files choose-file add-files-grp-browse pt-2">
								<span class="fileUpload"> <span class="upl" id="upload"><img
										src="img/download-files.svg" alt=""></span> <!--  <input type="file" class="upload up" id="up" onchange="readURL(this);"> -->
									<input type="file" id="fileInput" multiple 
									style="display: none;" onchange="readURL(this);">
	
								</span>
							</div>
							<b class="add-files-b">Add up to 5 receipts at once, by dragging and dropping here</b>
							<p class="add-files-p">Alternatively, click to upload your receipt</p>
						<hr class="my-2">
						<div class="add-files-btm-new">
							<strong>PLEASE NOTE</strong>
							<p>Max number of documents: 5 per Upload | Max size per document: 5 MB | Accepted formats: JPG/JPEG/PNG/PDF</p>
						</div>
					</div>
					
					<!-- <div class="container">

						<div id="file-list" class="file-list"></div>
					</div> -->
					<div class="clearfix"></div>

					<div class="d-flex justify-content-center mt-4">

						<button class="btn btn-primary mx-2" id="continewAddmanualexp"
							onclick="openModelPopup()">Skip to add Manually</button>
						<button class="btn btn-border mx-2" data-toggle="modal"
							data-target="#ModalAddmanualexp">Continue</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Add Expense Reimbursements 01 -->

	<div class="modal fade" id="ModalAddmanualexp" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true" data-backdrop="static" data-keyboard="false">
		<div
			class="modal-dialog modal-xl modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Add
						Expense Reimbursements</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close" id="btnAddmanualClose" onclick="close()">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div
					class="d-flex justify-content-between border-btm modal-head-secd">

					<div class="d-flex add-topbadge" id="selected-files">
						<!--<div class="top-badge mr-2">
							<div class="table-check">
								 <input type="checkbox" id="customCheck3" class="mr-2">
							</div>

							<a href="#"> <img src="img/attach.svg" alt="">
							</a>
						</div> old-->
						<div class="top-badge">
							Expense 2 <a href="#"> <img src="img/attach.svg" alt="">
							</a>
						</div>
						
					</div>

					<div>
						<a href="#" data-toggle="modal"
							data-target="#ModalmergeReimbursement" class="mx-1"><img
							src="img/merge.svg" alt=""></a> <a href="#" class="mx-1"><img
							data-toggle="tooltip" data-placement="top"
							title="To combine multiple uploads related to the same expense, you can tick the check boxes of tabs and click here to Merge them into one expense item."
							src="img/info.svg" alt=""></a>
					</div>
				</div>
				<div class="modal-body">
					<form action="" id="expenseReimbursement"
						name="expenseReimbursement" method="Post">
						<div class="row">
							<div class="col-12 col-md-7">
								<div class="add-files no-border expenses-receipt pt-2">

									<div class="form-group-files choose-file">
										<span class="fileUpload"> <span class="upl" id="upload">
												<!--  <img src="img/download-files.svg" alt=""> -->
										</span> <input type="file" class="upload up" name="upfile"
											id="upfile">
										</span>

									</div>
									<div class="add-files no-border p-0">
										<div class="img-scrollbar">
											<img alt="" id="imageAdd">
										</div>
										<embed id="imagePDF"
											style="width: 100%; max-width: 500px; margin: 0 auto;"
											height="530 px" width="500 px" type="application/pdf"></embed>
										<input type="hidden" id="base64PDF">
									</div>

								</div>

							</div>
							<div class="col-12 col-md-5">
								<div class="form-grp-half">
									<div class="mr-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<select class="did-floating-select" id="expenseCategory" onchange="getExpanseLimitByExpenseTitleId1()">
											</select> <label class="did-floating-label">Select Category</label>
										</div><br>
										<div class="error-msg" id="expenseCategoryError"
											style="color: red"></div>
									</div>

									<div class="ml-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<input type="date" id="dateofExpense"
												class="did-floating-select"> <label
												class="did-floating-label">Date of Expense</label>
										</div><br>
										<div class="error-msg" id="dateofExpenseError"
											style="color: red"></div>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" 
										id="expenseTitle"> <label class="did-floating-label">Enter
										Expense Title</label>
								</div><br>
								<div class="error-msg" id="expenseTitleError" style="color: red"></div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" 
										id="venderName"> <label class="did-floating-label">Enter
										Vendor Name</label>
								</div><br>
								<div class="error-msg" id="venderNameError" style="color: red;margin-top: -30px;"></div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" 
										id="invoiceNumber"> <label class="did-floating-label">Enter
										Invoice Number</label>
								</div><br>
								<div class="error-msg" id="invoiceNumberError"
									style="color: red"></div><br>
								<div class="clearfix"></div>
								<div class="form-grp-half">
									<div class="mr-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<select class="did-floating-select" id="currency">
												<option value="">Select Currency</option>
												<option value="INR">INR</option>
												<option value="INR">Dollar</option>
											</select> <label class="did-floating-label">Select Currency</label>
										</div><br>
										<div class="error-msg" id="currencyError" style="color: red"></div>
									</div>
									<div class="ml-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<input class="did-floating-input" type="text"
												id="amount"> <label class="did-floating-label">Enter
												Amount</label>
										</div><br>
										<div class="error-msg" id="amountError" style="color: red"></div>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="form-grp">
									<div class="form-grp-card-form-right">
										<label for="">Periodic Limit: </label>
										<div class="ntdfnd">INR <span id="limit">500</span> </div>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<!--  <input class="did-floating-input" type="text" placeholder=""  id="modeofPayment">
                                    <label class="did-floating-label">Select Preferred Mode of Payment</label> -->

									<select class="did-floating-select" id="modeofPayment">
										<option value=""> Mode of Payment</option>
										<option value="Cash">Cash</option>
										<option value="Cheque">Cheque</option>
										<option value="e-RUPI Voucher">e-RUPI Voucher</option>
										<option value="Bank Account">Bank Account</option>
									</select> <label class="did-floating-label">Select Preferred
										Mode of Payment</label>

								</div><br>
								<div class="error-msg" id="modeofPaymentError"
									style="color: red"></div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" placeholder=" "
										id="additionalRemark"> <label
										class="did-floating-label">Enter Additional Remarks
										(Optional)</label>
									<div class="error-msg" id="additionalRemarkError"
										style="color: red"></div>
								</div>
								<div class="clearfix"></div>
								<div class="d-flex justify-content-end mt-4 form-btns">

								<button class="btn btn-border mx-1 width-auto" id="btnDelete"><img src="img/del.svg" alt="" > </button>
								<button class="btn btn-border mx-1 width-auto" id="btnDownLoad"><img src="img/download.svg" alt=""> </button>
								<button class="btn btn-border mx-1 width-auto" id="btnSave"><img src="img/save.svg" alt="">	</button>
								<input type="hidden" class="form-input" id="employerId" name="employerId" th:value="${session.id}">
								<input type="hidden" class="form-input" id="employerName" name="employerName" th:value="${session.username}">
								<input type="hidden" class="form-input" id="empId" name="empId" th:value="${session.empId}">
								<input type="hidden" class="form-input" id="expenseId" name="expenseId" >
								
								 <button class="btn btn-border mx-2" onclick="submitExpenseDraft()" id="btnsubmitExpenseDraft" type="button" >Save & Next</button>
							
								 <button class="btn btn-primary mx-2 d-flex align-items-center" id="btnSubmitExpenseMultiple"
								 type="button" onclick="submitExpenseMultiple()">Submit</button>

								</div>
							</div>
						</div>
					</form>
					<div class="clearfix"></div>
				</div>
				<div class="modal-footer modal-footer-content bg-f6">
					<div class="btm-vender m-0">
						<div class="btm-vender-left">
							<a href="#"><img src="img/left-arow.svg" alt=""></a>
						</div>
						<div class="btm-vender-mid">
							<div class="vendor-num">1/10</div>
							<strong>Vendor Name</strong>
							<div class="vender-amount">
								<span>INR</span> <input type="text" placeholder="Amount">
							</div>
						</div>
						<div class="btm-vender-right">
							<a href="#"><img src="img/right-arow.svg" alt=""></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Add Expense Reimbursements 01 -->

	<div class="modalView" id="ModalSubmitExpenseReimbursementView"
		tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div
			class="modal-dialog modal-xl modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Submitted Expense Reimbursements</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close" id="btnCloseView" onclick="close()">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div
					class="d-flex justify-content-between border-btm modal-head-secd">
					<div></div>
					<div>
					<!--	<a href="#" class="mx-1">
							<img src="img/download-blue.svg"alt=""></a>
							 <a href="#" class="mx-1"><img src="img/refresh-blue.svg" alt=""></a>-->
							  <a href="#" class="mx-1"><img data-toggle="tooltip" data-placement="top" title="" src="img/info.svg" alt=""
							data-original-title="In case you want to recall a submitted expense, press the ‘Undo’ Button and make necessary changes."></a>
					</div>
				</div>
				<div class="modal-body">
					<form action="" style="max-height: 540px; overflow-y: scroll;">
						<div class="row">
							<div class="col-12 col-md-7">
								<div class="add-files no-border padd-8">
									<div class="img-scrollbar">
										<img src="img/bill.svg" alt=" " id="imageView">
									</div>
									<embed id="imagePDFView" height="480 px" width="400 px"
										type="application/pdf"></embed>
								</div>
							</div>
							<div class="col-12 col-md-5">

								<div class="form-grp-half">
									<div class="clearfix"></div>
									<div class="did-floating-label-content">
										<input class="did-floating-input" type="text" readonly
											id="viewExpenseCategory"> <label
											class="did-floating-label">Expense Category</label>
									</div>
										<div class="clearfix"></div>
									<div class="did-floating-label-content">
										<input class="did-floating-input" type="text" readonly
											id="viewDateofExpense"> <label
											class="did-floating-label">Date of Expense</label>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" readonly
										id="viewExpenseTitle"> <label
										class="did-floating-label">Expense Title</label>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" readonly
										id="viewVenderName"> <label class="did-floating-label">Vendor
										Name</label>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" readonly
										id="viewInvoiceNumber"> <label
										class="did-floating-label">Invoice Number</label>
								</div>
								<div class="clearfix"></div>
								<div class="form-grp-half">
									<div class="did-floating-label-content mr-2">

										<input class="did-floating-input" type="text" readonly
											id="viewCurrency"> <label class="did-floating-label">Currency</label>
									</div>
									<div class="did-floating-label-content ml-2">
										<input class="did-floating-input" type="text" readonly
											id="viewAmount"> <label class="did-floating-label">Amount</label>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="form-grp">
									<div class="form-grp-card-form-right">
										<label for="">Daily Limit:</label>
										<div class="ntdfnd">INR 500</div>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" readonly
										id="viewModeofPayment"> <label
										class="did-floating-label">Preferred Mode of Payment</label>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" readonly
										id="viewAdditionalRemark"> <label
										class="did-floating-label">No additional remarks added</label>
								</div>
								<div id="accordion" class="accordion">
									<div class="did-floating-label-content collapsed"
										data-toggle="collapse" data-parent="#accordion"
										href="#collapseOne">
										<select class="did-floating-select" id="viewStatus"
											onclick="this.setAttribute('value', this.value);"
											onchange="this.setAttribute('value', this.value);" value="">
											<option value=""></option>
											<option value="1">Pending Approval</option>
										</select> <label class="did-floating-label">Status</label>
									</div>
									<div id="collapseOne" class="timeline-collapse collapse"
										data-parent="#accordion">
										<div class="timeline-detl-collapse">
											<div
												class="timeline-detl-collapse-info timeline-line-collapse row active">
												<div class="col-2 col-md-1">
													<div class="grey-circle"></div>
												</div>
												<div class="col-10 col-md-11">
													<label for="">Employee Name</label>
													<p>Sent on 27/04/2024</p>
													<p>17:32:07</p>
												</div>
											</div>
											<div
												class="timeline-detl-collapse-info timeline-line-collapse row active">
												<div class="col-2 col-md-1">
													<div class="grey-circle"></div>
												</div>
												<div class="col-10 col-md-11">
													<label for="">Reporting Level 1 - Manager Name</label>
													<p>Awaiting Approval</p>
												</div>
											</div>
											<div
												class="timeline-detl-collapse-info timeline-line-collapse row">
												<div class="col-2 col-md-1">
													<div class="grey-circle"></div>
												</div>
												<div class="col-10 col-md-11">
													<label for="">Reporting Level 2 - Manager Name</label>
												</div>
											</div>
											<div
												class="timeline-detl-collapse-info timeline-line-collapse row">
												<div class="col-2 col-md-1">
													<div class="grey-circle"></div>
												</div>
												<div class="col-10 col-md-11">
													<label for="">HR Manager - Name</label>
												</div>
											</div>
											<div
												class="timeline-detl-collapse-info timeline-line-collapse row">
												<div class="col-2 col-md-1">
													<div class="grey-circle"></div>
												</div>
												<div class="col-10 col-md-11">
													<label for="">Finance Manager - Name</label>
												</div>
											</div>
											<div
												class="timeline-detl-collapse-info timeline-line-collapse timeline-lastline-collapse row">
												<div class="col-2 col-md-1">
													<div class="grey-circle"></div>
												</div>
												<div class="col-10 col-md-11">
													<label for="">Settlement Details</label>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

						</div>
					</form>
				</div>
				<div class="clearfix"></div>
				<div class="modal-footer modal-footer-content"
					style="background: #F6F6F6;">
					<div class="btm-vender m-0">
						<div class="btm-vender-left">
							<a href="#"><img src="img/left-arow.svg" alt=""></a>
						</div>
						<div class="btm-vender-mid">
							<div class="vendor-num">1/10</div>
							<strong>Vendor Name</strong>
							<div class="vender-amount">
								<span>INR</span> <input type="text" placeholder="Amount">
							</div>
						</div>
						<div class="btm-vender-right">
							<a href="#"><img src="img/right-arow.svg" alt=""></a>
						</div>
					</div>
				</div>
			</div>


		</div>
	</div>


	<!-- Modal Add Expense Reimbursements 01 -->

	<!-- Modal Add Expense Reimbursements 01 -->


	<div class="modalView" id="ModalAddfreshexpContinew" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div
			class="modal-dialog modal-xl modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content">

				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Add
						Expense Reimbursements</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close" id="btnCloseFresh" onclick="close()">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div
					class="d-flex justify-content-between border-btm modal-head-secd">
					<div>
						<div class="top-badge">
							Expense 1 <a href="#"> <img src="img/attach.svg" alt="">
							</a>
						</div>
					</div>
					<div>
						<a href="#" data-toggle="modal"
							data-target="#ModalmergeReimbursement" class="mx-1"><img
							src="img/merge.svg" alt=""></a> <a href="#" class="mx-1"><img
							data-toggle="tooltip" data-placement="top"
							title="To combine multiple uploads related to the same expense, you can tick the check boxes of tabs and click here to Merge them into one expense item."
							src="img/info.svg" alt=""></a>
					</div>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-12 col-md-7" id="fileUploadDiv"
							style="display: block">
							<div class="add-files no-border">
								<div class="form-group-files choose-file">
									<span class="fileUpload"> <span class="upl"
										id="uploadSingle"><img src="img/download-files.svg"
											alt=""></span> <input type="file" class="upload up"
										id="singleFile" onchange="readURLSingle(this);">
									</span>
								</div>
								<b>To automatically pre-fill details, drag and drop your
									receipt(s)</b>
								<p>Alternatively, click to upload your receipt</p>
								<hr>
								<div class="add-files-btm">
									<strong>PLEASE NOTE</strong>
									<p>Max number of documents: 5 per Upload Max size per
										document: 5 MB Accepted formats: JPG/JPEG/PNG/PDF</p>
								</div>
							</div>

						</div>
						<div id="fileUploadView" class="col-12 col-md-7"
							style="display: none">

							<div class="add-files no-border expenses-receipt pt-2">

								<div class="form-group-files choose-file">
									<!--   <span class="fileUpload">
                                        <span class="upl" id="upload"> </span>
                                        <input type="file" class="upload up" name="upfile" id="upfile">
                                        </span> -->
								</div>
								<div class="add-files no-border p-0">
									<div class="img-scrollbar">
										<img alt="" id="imageAddSingle">
									</div>
									<embed id="imagePDFSingle"
										style="margin: 0 auto; width: 100%; max-width: 500px;"
										height="480 px" type="application/pdf"></embed>
									<input type="hidden" id="base64PDFSingle">
								</div>

							</div>

						</div>
						<div class="col-12 col-md-5">
							<form action="">

								<div class="form-grp-half">
									<div class="mr-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<select class="did-floating-select"
												id="expenseCategorySingle" onchange="getExpanseLimitByExpenseTitleId()">
											</select> <label class="did-floating-label">Select Category</label>
										</div>
										<div class="error-msg" id="expenseCategorySingleError"
											style="color: red"></div>
									</div>

									<div class="ml-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<input type="date" id="dateSingle"
												class="did-floating-select" onchange="validateDate()"> <label
												class="did-floating-label" >Date of Expense</label>
										</div>
										<div class="error-msg" id="dateSingleError" style="color: red"></div><br>
									</div>
								</div>

								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" 
										id="expenseTitleSingle"> <label
										class="did-floating-label">Enter Expense Title</label>
								</div>
								<div class="error-msg" id="expenseTitleSingleError"style="color: red"></div><br>
								
								<div class="clearfix"></div>
								<div class="error-msg" id="vendorNameSingleError" style="color: red;"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text"
										id="vendorNameSingle"> <label
										class="did-floating-label">Enter Vendor Name</label>
								</div>
								<div class="error-msg" id="vendorNameSingleError"
									style="color: red"></div><br>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text" 
										id="invoiceNumberSingle"> <label
										class="did-floating-label">Enter Invoice Number</label>
								</div>
								<div class="error-msg" id="invoiceNumberSingleError"
									style="color: red"></div><br>
								<div class="clearfix"></div>

								<div class="form-grp-half">
									<div class="mr-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<select class="did-floating-select" id="currencySingle">
												<option value="">Select Currency</option>
												<option value="INR">INR</option>
												<option value="Dollar">Dollar</option>
											</select> <label class="did-floating-label">Select Currency</label>
										</div>
										<div class="error-msg" id="currencySingleError"
											style="color: red"></div><br>
									</div>
									<div class="ml-2 w-100 mb-2">
										<div class="did-floating-label-content mb-0">
											<input class="did-floating-input" type="text"
												id="amountSingle"> <label
												class="did-floating-label">Enter Amount</label>
										</div>
										<div class="error-msg" id="amountSingleError"
											style="color: red"></div><br>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="form-grp">
									<div class="form-grp-card-form-right">
										<label for="">Periodic Limit: </label>
										<div class="ntdfnd">INR
											<span id="firstLimit"> 500 </span> </div>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">

									<select class="did-floating-select" id="modeofpaymentSingle">
										<option value="">Mode of Payment</option>
										<option value="Cash">Cash</option>
										<option value="Cheque">Cheque</option>
										<option value="e-RUPI Voucher">e-RUPI Voucher</option>
										<option value="Bank Account">Bank Account</option>
									</select> <label class="did-floating-label">
										Select Preferred Mode of Payment</label>
								</div>
								<div class="error-msg" id="modeofpaymentSingleError"
									style="color: red"></div><br>
								<div class="clearfix"></div>
								<div class="did-floating-label-content">
									<input class="did-floating-input" type="text"
										id="remarkSingle"> <label class="did-floating-label">Enter
										Additional Remarks (Optional)</label>
								</div>
								<div class="error-msg" id="remarkSingleError" style="color: red"></div>
								<div class="clearfix"></div>
								<div class="d-flex justify-content-end mt-4 form-btns">
									<button class="btn btn-border mx-1 width-auto">
										<img src="img/del.svg" alt="">
									</button>
									<button class="btn btn-border mx-1 width-auto">
										<img src="img/download.svg" alt="">
									</button>
									<button class="btn btn-border mx-1 width-auto">
										<img src="img/save.svg" alt="">
									</button>

									<input type="button" id="btnSingleSaveNext"
										class="btn btn-border mx-1" onclick="submitExpenseSingleDraft()"
										value="Save & Next" />
									<!-- 
                                    <button type="button" id="btnSingleSaveNext" class="btn btn-border mx-1" >Save & Next</button> -->
									<!-- <a class="btn btn-primary mx-1 d-flex align-items-center"
										data-toggle="modal" data-target="#ModalExpensesSubmitted"
										id="btnSingleSubmit">Submit</a> -->
										<input type="button" class="btn btn-primary mx-1 d-flex align-items-center"
										id="btnSingleSubmit" value="Submit" onclick="submitExpenseSingle()" />
								</div>
							</form>
						</div>
					</div>

					<div class="clearfix"></div>
				</div>
				<div class="modal-footer modal-footer-content bg-f6">
					<div class="btm-vender m-0">
						<div class="btm-vender-left">
							<a href="#"><img src="img/left-arow.svg" alt=""></a>
						</div>
						<div class="btm-vender-mid">
							<div class="vendor-num">1/10</div>
							<strong>Vendor Name</strong>
							<div class="vender-amount">
								<span>INR</span> <input type="text" placeholder="Amount">
							</div>
						</div>
						<div class="btm-vender-right">
							<a href="#"><img src="img/right-arow.svg" alt=""></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	
	<!-- Modal Choose Type of Advance Request -->
	<div class="modal fade" id="ModalmergeReimbursement" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content modal-bulk">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Merge
						Uploads</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">
					<hr class="mt-0">
					<div class="d-flex">
						<p class="mb-0 text-center secondary-900">Please confirm that
							you would like to merge the uploaded documents as part of
							multiple pages/documents of one expense.</p>
					</div>
					<div class="d-flex justify-content-center mt-3">
						<button class="btn btn-border mx-2 w-100">Cancel</button>
						<button class="btn btn-primary mx-2 w-100">Merge</button>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal Add Remarks -->
	<div class="modal fade" id="Modaladdremarks" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content modal-bulk">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Add
						remark!</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">
					<hr class="mt-0">
					<div class="d-flex">
						<p class="mb-0 text-center secondary-900">Please add a remark
							to this expense since the expense amount exceeds the limit
							prescribed for you.</p>
					</div>
					<div class="d-flex justify-content-center mt-3">
						<button class="btn btn-primary w-100">Got it!</button>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal add files merge -->
	<div class="modal fade" id="Modaladdfilesmerge" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content modal-bulk">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Merge Uploads</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">
					<hr class="mt-0">
					<div class="d-flex">
						<p class="mb-0 text-center secondary-900">Please confirm that you would like to merge the selected uploads as part of multiple pages/documents of one expense.</p>
					</div>
					<div class="d-flex justify-content-center mt-3">
						<button class="btn btn-border mx-2 w-100 close" data-dismiss="modal"
						aria-label="Close">Cancel</button>
						<button class="btn btn-primary mx-2 w-100" id="merge-button">Merge</button>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal add files del -->
	<div class="modal fade" id="Modaladdfilesdel" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-approval-wrap"
			role="document">
			<div class="modal-content modal-bulk">
				<div class="modal-header pb-0">
					<h5 class="modal-title" id="exampleModalCenterTitle">Delete Uploads</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">
					<hr class="mt-0">
					<div class="d-flex">
						<p class="mb-0 text-center secondary-900">Please confirm that you would like to delete  the selected uploads.</p>
					</div>
					<div class="d-flex justify-content-center mt-3">
						<button class="btn btn-border mx-2 w-100" data-dismiss="modal"
						aria-label="Close">Cancel</button>
						<button class="btn btn-delete mx-2 w-100" id="delete-button">Delete</button>
					</div>
				</div>
			</div>
		</div>
	</div>


<!-- Start model for Pending Approval -->
    <!-- Modal View Pending Expense -->

   <!-- <div class="modal fade" id="ModalViewPendingExp" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">-->
		<div class="modalView" id="ModalViewPendingExp"
				tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
				>
        <div class="modal-dialog modal-xl modal-dialog-centered modal-approval-wrap" role="document">
            <div class="modal-content">
                <div class="modal-header pb-0">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Submitted Expense Reimbursements </h5>
                   <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>-->
					
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseApproval" onclick="closeApproval()">
							<span aria-hidden="true">×</span>
						</button>
                </div>
                <div class="d-flex justify-content-between border-btm modal-head-secd">
                    <div>
                        <p><span>Submitted By</span><label id="submittedBy"></label></p>
                    </div>
                  <!--  <div>
                        <a href="#" class="mx-1"><img src="img/calendar.svg" alt=""></a>
                        <a href="#" class="mx-1"><img src="img/download-dark.svg" alt=""></a>
                    </div>-->
                </div>
                <div class="modal-body">
                    <div class="row">
                      
						<div class="col-12 col-md-7">
							<div class="add-files no-border padd-8">
								<div class="img-scrollbar">
									<img src="img/bill.svg" alt=" " id="imageViewApproval">
								</div>
								<embed id="imagePDFViewApproval" height="480 px" width="380 px" type="application/pdf"></embed>
							</div>
						</div>
                        <div class="col-12 col-md-5">
                            <form action=""
                                style="max-height: 545px; overflow-y: scroll; padding-top: 5px; padding-bottom: 5px;">
                                <div class="form-grp-half">

                                    <div class="did-floating-label-content mr-2">
                                        <input class="did-floating-input" type="text" placeholder="" id="approvalExpense">
                                        <label class="did-floating-label">Expense</label>
                                    </div>

                                    <div class="did-floating-label-content">
                                        <input class="did-floating-input" type="text" placeholder=" "
                                            id="approvalExpenseDate" >
                                        <label class="did-floating-label">Expense Date</label>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="did-floating-label-content">
                                    <input class="did-floating-input" type="text" placeholder=" "
                                        id="approvalExpenseTitle">
                                    <label class="did-floating-label">Expense Title</label>
                                </div>
                                <div class="clearfix"></div>
                                <div class="did-floating-label-content">
                                    <input class="did-floating-input" type="text" placeholder=" " id="approvalExpenseVenderName">
                                    <label class="did-floating-label">Vendor Name</label>
                                </div>
                                <div class="clearfix"></div>
                                <div class="did-floating-label-content">
                                    <input class="did-floating-input" type="text" placeholder=" "
                                        id="approvalExpenseInviceNumber">
                                    <label class="did-floating-label">Invoice Number</label>
                                </div>
                                <div class="clearfix"></div>
                                <div class="form-grp-half">
                                    <div class="did-floating-label-content mr-2">
										<input class="did-floating-input" type="text"
										     id="approvalExpenseCurrency">
                                        </select>
                                        <label class="did-floating-label">Currency</label>
                                    </div>
                                    <div class="did-floating-label-content ml-2">
                                        <input class="did-floating-input" type="text" placeholder=" " id="approvalExpenseAmount">
                                        <label class="did-floating-label">Amount</label>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="form-grp">
                                    <div class="form-grp-card-form-right">
                                        <label for="">Daily Limit:</label>
                                        <div class="ntdfnd">INR <span id="approveLimit">500</span></div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="did-floating-label-content">
                                    <input class="did-floating-input" type="text" placeholder=" " id="approvalExpensePaymentMode">
                                    <label class="did-floating-label">Select Preferred Mode of Payment</label>
                                </div>
                                <div class="clearfix"></div>
                                <div class="did-floating-label-content">
                                    <input class="did-floating-input" type="text" placeholder=" " id="approvalExpenseRemark">
                                    <label class="did-floating-label">No additional remarks added</label>
                                </div>
                                <div id="accordion" class="accordion">
                                    <div class="did-floating-label-content collapsed" data-toggle="collapse"
                                        data-parent="#accordion" href="#collapseOne">
                                        <select class="did-floating-select"
                                            onclick="this.setAttribute('value', this.value);"
                                            onchange="this.setAttribute('value', this.value);" value="Pending Approval">
                                            <option value=""></option>
                                            <option value="1">Pending Approval</option>
                                        </select>
                                        <label class="did-floating-label">Status</label>
                                    </div>
                                    <div id="collapseOne" class="timeline-collapse collapse" data-parent="#accordion">
                                        <div class="timeline-detl-collapse">
                                            <div class="timeline-detl-collapse-info timeline-line-collapse row active">
                                                <div class="col-2 col-md-1">
                                                    <div class="grey-circle"></div>
                                                </div>
                                                <div class="col-10 col-md-11">
                                                    <label for="">Employee Name</label>
                                                    <p>Sent on 27/04/2024</p>
                                                    <p>17:32:07</p>
                                                </div>
                                            </div>
                                            <div class="timeline-detl-collapse-info timeline-line-collapse row active">
                                                <div class="col-2 col-md-1">
                                                    <div class="grey-circle"></div>
                                                </div>
                                                <div class="col-10 col-md-11">
                                                    <label for="">Reporting Level 1 - Manager Name</label>
                                                    <p>Awaiting Approval</p>
                                                </div>
                                            </div>
                                            <div class="timeline-detl-collapse-info timeline-line-collapse row">
                                                <div class="col-2 col-md-1">
                                                    <div class="grey-circle"></div>
                                                </div>
                                                <div class="col-10 col-md-11">
                                                    <label for="">Reporting Level 2 - Manager Name</label>
                                                </div>
                                            </div>
                                            <div class="timeline-detl-collapse-info timeline-line-collapse row">
                                                <div class="col-2 col-md-1">
                                                    <div class="grey-circle"></div>
                                                </div>
                                                <div class="col-10 col-md-11">
                                                    <label for="">HR Manager - Name</label>
                                                </div>
                                            </div>
                                            <div class="timeline-detl-collapse-info timeline-line-collapse row">
                                                <div class="col-2 col-md-1">
                                                    <div class="grey-circle"></div>
                                                </div>
                                                <div class="col-10 col-md-11">
                                                    <label for="">Finance Manager - Name</label>
                                                </div>
                                            </div>
                                            <div
                                                class="timeline-detl-collapse-info timeline-line-collapse timeline-lastline-collapse row">
                                                <div class="col-2 col-md-1">
                                                    <div class="grey-circle"></div>
                                                </div>
                                                <div class="col-10 col-md-11">
                                                    <label for="">Settlement Details</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
                        </form>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="modal-footer modal-footer-content justify-content-between" style="background: #F6F6F6;">

                    <div class="w-md-60">
                        <div class="btm-vender btm-vender-dark m-0">
                            <div class="btm-vender-left"><a href="#"><img src="img/left-arow.svg" alt=""></a></div>
                            <div class="btm-vender-mid">
                                <!--<div class="vendor-num">1/10</div>-->
                                <!--<strong>Vendor Name</strong>-->
                                <div class="vender-amount">
                                    <span>INR</span>
                                    <input type="text" placeholder="Amount" id="approveAmmount">
									
                                </div>
                            </div>
                            <div class="btm-vender-right"><a href="#"><img src="img/right-arow.svg" alt=""></a></div>
                        </div>
						<div class="error-msg" id="approveAmmountError" style="color: red"></div>
                    </div>
	                <div class="d-flex justify-content-center justify-content-md-end">
						
	                   <button class="btn btn-border mx-2" data-toggle="modal" data-target="#ModalRejectRemarkReimbursement">Reject</button>
					   <button class="btn btn-primary mx-2" id="approveBtn" onclick="approveExpenses()">Approve</button> 
					   <!--<button class="btn btn-primary mx-2" data-toggle="modal" data-target="#ModalViewPendingExpSubmit">Approve</button>-->
<!--	                    <button class="btn p-0 mx-2" type="button" style="min-width: auto;"><i class="fas fa-ellipsis-v fa-sm"></i></button>-->
	                </div>
                </div>
            </div>
        </div>
    </div>

	 <!-- Modal View Pending Expense Submit -->
   <!-- <div class="modal fade" id="ModalViewPendingExpSubmit" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bulk">
                <div class="modal-top text-center">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <img src="img/modal-close.svg" alt="">
                    </button>
                    <img src="img/modal-success.svg" alt="">
                </div>
                <div class="modal-bottom">
                    <div class="count"><span>1</span><strong>5</strong></div>
                    <br>
                    <span>Reimbursement Approved</span>
                </div>
            </div>
        </div>
    </div>-->


    <!-- Modal Add remark for Rejection -->
    <div class="modal fade" id="ModalAddRemarkRejection" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
            <div class="modal-content modal-bulk">
                <div class="modal-header pb-0">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Add remark for Rejection</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <hr class="mt-0">
                    <div class="d-flex">
                        <p class="text-center secondary-900">Please add a remark to explain the rejection of the
                            reimbursement to the employee.</p>
                    </div>
                    <div class="d-flex">
                        <textarea name="" id="" class="custom-textarea"
                            placeholder="Add Remark (Compulsory) "></textarea>
                    </div>
                    <div class="d-flex justify-content-center mt-3">
                        <button class="btn btn-border mr-2 w-100">Back</button>
                        <button class="btn btn-primary ml-2 w-100" data-toggle="modal"
                            data-target="#ModalAddRemarkReimbrushRejection">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Reimbursement Rejected -->
    <div class="modal fade" id="ModalAddRemarkReimbrushRejection" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bulk">
                <div class="modal-top text-center" style="background: #FFEBE6;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <img src="img/modal-close.svg" alt="">
                    </button>
                    <img src="img/reject.svg" alt="">
                </div>
                <div class="modal-bottom">
                    <!--<div class="count"><span>1</span><strong>5</strong></div>-->
                    <br>
                    <span>Reimbursement Rejected</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Approved Remark Reimbursement -->
    <div class="modal fade" id="ModalApprovedRemarkReimbursement" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-xxl modal-dialog-centered modal-approval-wrap" role="document">
            <div class="modal-content">
                <div class="modal-header pb-0">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Review and enter Remarks for Approved
                        Reimbursements </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="policies-wrap-in-table">
                        <div class="table-responsive">
                            <table class="table table-rejectremark">
                                <thead>
                                    <tr>
                                        <th>EXPENSE ID</th>
                                        <th>SUBMITTED ON</th>
                                        <th>CATEGORY</th>
                                        <th>EMPLOYEE</th>
                                        <th>AMOUNT</th>
                                        <th>PAYMENT MODE</th>
                                        <th>REMARKS</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span>CDL-0424-001</span></td>
                                        <td><span>21/04/2024</span></td>
                                        <td><span><img src="img/Travel.svg" alt="" class="mr-2">Travel</span></td>
                                        <td><button class="no-bg no-border p-0 name-btn">Deepak
                                                Yadav</button><br><label>CTD001 | Product Lead</label></td>
                                        <td>
                                            <div class="d-flex justify-content-between color-third">
                                                <span>INR</span><span>16,680</span>
                                            </div>
                                        </td>
                                        <td><span>Salary Bank A/c</span></td>
                                        <td><input type="text" class="form-control-custom"
                                                placeholder="Add Remark (Optional)"></td>
                                    </tr>
                                    <tr>
                                        <td><span>CDL-0424-001</span></td>
                                        <td><span>21/04/2024</span></td>
                                        <td><span><img src="img/food.svg" alt="" class="mr-2">Trip - Client Lunch</span>
                                        </td>
                                        <td><button class="no-bg no-border p-0 name-btn">Deepak
                                                Yadav</button><br><label>CTD001 | Product Lead</label></td>
                                        <td>
                                            <div class="d-flex justify-content-between color-third">
                                                <span>INR</span><span>16,680</span>
                                            </div>
                                        </td>
                                        <td><span>Salary Bank A/c</span></td>
                                        <td><input type="text" class="form-control-custom"
                                                placeholder="Add Remark (Optional)"></td>
                                    </tr>
                                    <tr>
                                        <td><span>CDL-0424-001</span></td>
                                        <td><span>21/04/2024</span></td>
                                        <td><span><img src="img/taxi.svg" alt="" class="mr-2">Convenience</span></td>
                                        <td><button class="no-bg no-border p-0 name-btn">Deepak
                                                Yadav</button><br><label>CTD001 | Product Lead</label></td>
                                        <td>
                                            <div class="d-flex justify-content-between color-third">
                                                <span>INR</span><span>16,680</span>
                                            </div>
                                        </td>
                                        <td><span>Salary Bank A/c</span></td>
                                        <td><input type="text" class="form-control-custom"
                                                placeholder="Add Remark (Optional)"></td>
                                    </tr>
                                    <tr>
                                        <td><span>CDL-0424-001</span></td>
                                        <td><span>21/04/2024</span></td>
                                        <td><span><img src="img/Miscellaneous.svg" alt=""
                                                    class="mr-2">Miscellaneous</span></td>
                                        <td><button class="no-bg no-border p-0 name-btn">Deepak
                                                Yadav</button><br><label>CTD001 | Product Lead</label></td>
                                        <td>
                                            <div class="d-flex justify-content-between color-third">
                                                <span>INR</span><span>16,680</span>
                                            </div>
                                        </td>
                                        <td><span>Salary Bank A/c</span></td>
                                        <td><input type="text" class="form-control-custom"
                                                placeholder="Add Remark (Optional)"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="d-flex justify-content-center justify-content-md-end">
                            <button class="btn btn-border mx-2">Back</button>
                            <button class="btn btn-primary mx-2" data-toggle="modal"
                                data-target="#modalReimbursementApproved">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

	
   

    <!-- Modal Reject Remark Reimbursement -->
    <div class="modalView" id="ModalRejectRemarkReimbursement" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle">
        <div class="modal-dialog modal-xl modal-xxl modal-dialog-centered modal-approval-wrap" role="document">
            <div class="modal-content">
                <div class="modal-header pb-0">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Review and enter Remarks for Rejected
                        Reimbursements </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeReject()">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="policies-wrap-in-table">
                        <div class="table-responsive">
                            <table class="table table-rejectremark">
                                <thead>
                                    <tr>
                                        <th>EXPENSE ID</th>
                                        <th>SUBMITTED ON</th>
                                        <th>CATEGORY</th>
                                        <th>EMPLOYEE</th>
                                        <th>AMOUNT</th>
                                        <th>PAYMENT MODE</th>
                                        <th>REMARKS</th>
                                    </tr>
                                </thead>
                                <tbody>
									<tr>
	                                     <td><span id="idReject"></span></td>
	                                     <td><span id="submittedDateReject"></span></td>
	                                     <td><span id="categoryReject"><img src="img/Travel.svg" alt="" class="mr-2"></span></td>
	                                     <td> <span id="nameReject"></span></td>
	                                     <td>
	                                         <div class="d-flex justify-content-between color-third">
	                                             <span id="currencyReject"></span><span id="amountReject"></span>
	                                         </div>
	                                     </td>
	                                     <td><span id="bankAccount"></span></td>
	                                     <td><input type="text" class="form-control-custom" id="rejectRemark"
	                                             placeholder="Add Remark (Optional)">
										 <div class="error-msg" id="rejectedRemarksError" style="color: red"></div>
									     </td>
	                                 </tr>
                                   
                                </tbody>
                            </table>
                        </div>

                        <div class="d-flex justify-content-center justify-content-md-end">
                            <button class="btn btn-border mx-2" onclick="backReject()">Back</button>
                            <!--<button class="btn btn-primary mx-2" data-toggle="modal"
                                data-target="#ModalReimbursementRejected">Submit</button>-->
								<button class="btn btn-primary mx-2" id="rejectExpenseBtn" onclick="rejectExpenses()">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Reimbursement Rejected -->
    <div class="modalView" id="ModalReimbursementRejected" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bulk">
                <div class="modal-top text-center" style="background: #FFEBE6;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeReject()">
                        <img src="img/modal-close.svg" alt="">
                    </button>
                    <img src="img/reject.svg" alt="">
                </div>
                <div class="modal-bottom">
                    <!--<div class="count"><span>4</span><strong>5</strong></div>-->
                    <br>
                    <span>Reimbursement Rejected</span>
                </div>
            </div>
        </div>
    </div>
	<!-- End Content For Tab 2 -->


	<!-- Modal Choose Type of Advance Request -->
	<div class="modal fade" id="ModalChooseAdvanceRequest" tabindex="-1" role="dialog"
	    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	    <div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
	        <div class="modal-content modal-bulk">
	            <div class="modal-header pb-0">
	                <h5 class="modal-title" id="exampleModalCenterTitle">Choose Type of Advance Request</h5>
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">×</span>
	                </button>
	            </div>
	            <div class="modal-body">
	                <form action="" class="advancerequestform">
	                    <div class="form-check">
	                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked>
	                        <label class="form-check-label" for="flexRadioDefault1">
	                            Travel Request
	                        </label>
	                    </div>
	                    <div class="form-check">
	                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2"
	                            >
	                        <label class="form-check-label" for="flexRadioDefault2">
	                            Cash Advance
	                        </label>
	                    </div>
	                </form>
	                <div class="d-flex justify-content-center mt-3">
	                    <button class="btn btn-primary w-100" id="continueButton">Continue</button>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>

	<!-- Modal Cash Advance Request -->
	<div class="modal fade" id="ModalCashAdvanceRequest" tabindex="-1" role="dialog"
	    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	    <div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
	        <div class="modal-content modal-bulk">
	            <div class="modal-header pb-0">
	                <h5 class="modal-title" id="exampleModalCenterTitle">Cash Advance Request</h5>
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">×</span>
	                </button>
	            </div>
	            <div class="modal-body">
	                <form action="">
	                    <div class="did-floating-label-content">
							<input class="did-floating-input" type="date" placeholder=" " id="cashDate">
	                        <label class="did-floating-label">Date of Cash Advance Request</label>
	                    </div>
	                    <div class="clearfix"></div>
	                    <div class="did-floating-label-content">
	                        <input class="did-floating-input" type="text" placeholder=" " id="cashExpenseTitle">
	                        <label class="did-floating-label">Enter Expense Title</label>
	                    </div>
	                    <div class="clearfix"></div>
	                    <div class="form-grp-half">
	                        <div class="did-floating-label-content mr-2">
	                            <select class="did-floating-select" onclick="this.setAttribute('value', this.value);"
	                                onchange="this.setAttribute('value', this.value);" id="cashCurrency">
	                                <option value=""></option>
	                                <option value="INR">INR</option>
									<option value="Dollar">Dollar</option>
	                            </select>
	                            <label class="did-floating-label">Select Currency</label>
	                        </div>
	                        <div class="did-floating-label-content ml-2">
	                            <input class="did-floating-input" type="text" placeholder=" " id="cashAmmount">
	                            <label class="did-floating-label">Enter Amount</label>
	                        </div>
	                    </div>
	                    <div class="clearfix"></div>
	                    <div class="form-grp">
	                        <div class="form-grp-card-form-right">
	                            <label for="">Periodic Limit: </label>
	                            <div class="ntdfnd">INR 500</div>
	                        </div>
	                    </div>
	                    <div class="did-floating-label-content">
	                        <select class="did-floating-select" onclick="this.setAttribute('value', this.value);"
	                            onchange="this.setAttribute('value', this.value);" id="cashModeOfPayment">
	                            <option value=""></option>
	                            <option value="Cash">Cash</option>
								<option value="Cheque">Cheque</option>
							 <option value="eRUPI">eRUPI Voucher</option>	                        
						  </select>
	                        <label class="did-floating-label">Select Preferred Mode of Payment</label>
	                    </div>
	                    <div class="clearfix"></div>
	                    <div class="clearfix"></div>
	                    <div class="did-floating-label-content">
	                        <input class="did-floating-input" type="text" placeholder=" " id="cashRemark">
	                        <label class="did-floating-label">Enter Additional Remarks</label>
	                    </div>
						
	                    <div class="clearfix"></div>
						
						<span id="error-message" class="text-danger"></span>		
						
	                    <div class="d-flex justify-content-between mt-4 form-btns">
	                      
	                        <div class="righ d-flex">
	                            <button class="btn btn-border mx-2 w-78">Back</button>
	                            <a class="btn btn-primary mx-2 d-flex align-items-center custom-btn mt-1" 
	                                id="cashBtnSubmit" onclick="cashAdvanceSubmit()">Submit</a>
	                        </div>
	                    </div>
	                </form>
	            </div>
	        </div>
	    </div>
	</div>

	<!-- Modal Travel Request -->
	<div class="modal fade" id="ModalTravelRequest" tabindex="-1" role="dialog"
	    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg" role="document">
	        <div class="modal-content modal-bulk">
	            <div class="modal-header pb-0">
	                <h5 class="modal-title" id="exampleModalCenterTitle">Travel Request</h5>
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">×</span>
	                </button>
	            </div>
	            <div class="modal-body">
	                <div class="travelrequest-wrap">
	                    <h5>Select category of expenses for your Travel Request</h5>
	                    <ul>
	                        <li class="active">
	                            <img src="img/plane-green.svg" alt="">
	                            <span>Travel</span>
	                            <label class="checkbox-container">O
	                                <input type="checkbox" checked="checked">
	                                <span class="checkmark"></span>
	                            </label>
	                        </li>
	                        <li>
	                            <img src="img/accommodation-green.svg" alt="">
	                            <span>Accommodation</span>
	                            <label class="checkbox-container">O
	                                <input type="checkbox">
	                                <span class="checkmark"></span>
	                            </label>
	                        </li>
	                        <li>
	                            <img src="img/citycabs.svg" alt="">
	                            <span>In-City Cabs</span>
	                            <label class="checkbox-container">O
	                                <input type="checkbox">
	                                <span class="checkmark"></span>
	                            </label>
	                        </li>
	                        <li>
	                            <img src="img/food-green.svg" alt="">
	                            <span>Food</span>
	                            <label class="checkbox-container">O
	                                <input type="checkbox">
	                                <span class="checkmark"></span>
	                            </label>
	                        </li>
	                        <li>
	                            <img src="img/miscellaneous-green.svg" alt="">
	                            <span>Miscellaneous</span>
	                            <label class="checkbox-container">O
	                                <input type="checkbox">
	                                <span class="checkmark"></span>
	                            </label>
	                        </li>
	                    </ul>
	                </div>
	                <div class="d-flex justify-content-center mt-3">
	                    <button class="btn btn-primary w-100" data-toggle="modal" data-target="#travelDetailsTable">Continue</button>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>


	<!-- Modal Choose Type of Advance Request -->
	<div class="modal fade" id="ModalmergeReimbursement" tabindex="-1" role="dialog"
	    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	    <div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
	        <div class="modal-content modal-bulk">
	            <div class="modal-header pb-0">
	                <h5 class="modal-title" id="exampleModalCenterTitle">Merge Uploads</h5>
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">×</span>
	                </button>
	            </div>
	            <div class="modal-body">
	                <hr class="mt-0">
	                <div class="d-flex">
	                    <p class="mb-0 text-center secondary-900">Please confirm that you would like to merge the
	                        uploaded documents as part of multiple pages/documents of one expense.</p>
	                </div>
	                <div class="d-flex justify-content-center mt-3">
	                    <button class="btn btn-border mx-2 w-100">Cancel</button>
	                    <button class="btn btn-primary mx-2 w-100">Merge</button>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>


	<!-- Modal Add Remarks -->
	<div class="modal fade" id="Modaladdremarks" tabindex="-1" role="dialog"
	    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	    <div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
	        <div class="modal-content modal-bulk">
	            <div class="modal-header pb-0">
	                <h5 class="modal-title" id="exampleModalCenterTitle">Add remark!</h5>
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">×</span>
	                </button>
	            </div>
	            <div class="modal-body">
	                <hr class="mt-0">
	                <div class="d-flex">
	                    <p class="mb-0 text-center secondary-900">Please add a remark to this expense since the expense amount exceeds the limit prescribed for you.</p>
	                </div>
	                <div class="d-flex justify-content-center mt-3">
	                    <button class="btn btn-primary w-100">Got it!</button>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>

	<!-- Modal Confirm -->
		<!--<div class="modal fade" id="ModalExpensesSubmitted" tabindex="-1"
			role="dialog" aria-labelledby="exampleModalCenterTitle"
			aria-hidden="true">-->
			
			<!--<div class="modalView" id="ModalExpensesSubmitted" tabindex="-1"
					role="dialog" aria-labelledby="exampleModalCenterTitle"
					aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content modal-bulk">
					<div class="modal-top text-center">
						<button type="button" class="close" data-dismiss="modal" onclick="closeCashSuccess()"
							aria-label="Close">
							<img src="img/modal-close.svg" alt="">
						</button>
						<img src="img/modal-success.svg" alt="">
					</div>
					<div class="modal-bottom">
						<div class="count">
							
						</div>
						<br> <span>Expenses submitted Successfully!</span>
					</div>
				</div>
			</div>
		</div>-->
		
		<div class="modalView" id="ModalExpensesSubmitted">
				        <div class="modal-dialog modal-dialog-centered">
				            <div class="modal-content modal-bulk p-0">
				                <div class="modal-top text-center">
				                    <button type="button" class="close p-0"  data-dismiss="modal" onclick="closeCashSuccess()" aria-label="Close" style="right: 10px; top: 0;">
				                        <img src="img/modal-close.svg" alt="">
				                    </button>
				                    <img src="img/modal-success.svg" alt="">
				                </div>
				                <div class="modal-bottom">
				                    <span>Cash Advance Request Submitted Successfully</span>
				                </div>
				            </div>
				        </div>
				    </div>
					<!-- modal expense reimbursement submitted successfully-->
					<div class="modalView" id="expReimbursementsubmission">
									        <div class="modal-dialog modal-dialog-centered">
									            <div class="modal-content modal-bulk p-0">
									                <div class="modal-top text-center">
									                    <button type="button" class="close p-0"  data-dismiss="modal" onclick="approvedClose()" aria-label="Close" style="right: 10px; top: 0;">
									                        <img src="img/modal-close.svg" alt="">
									                    </button>
									                    <img src="img/modal-success.svg" alt="">
									                </div>
									                <div class="modal-bottom">
									                    <span>Expense Reimbursements Submitted Successfully</span>
									                </div>
									            </div>
									        </div>
									    </div>		
					
					<!-- Modal Reimbursement Approved -->
					
					<!--<div class="modalView" id="modalReimbursementApproved" tabindex="-1" role="dialog"
					        aria-labelledby="exampleModalCenterTitle" >
					        <div class="modal-dialog modal-dialog-centered" role="document">
					            <div class="modal-content modal-bulk">
					                <div class="modal-top text-center">
					                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="approvedClose" onclick="approvedClose()">
					                        <img src="img/modal-close.svg" alt="">
					                    </button>
					                    <img src="img/modal-success.svg" alt="">
					                </div>
					                <div class="modal-bottom">
					                   
					                    <br>
					                    <span>Reimbursement Approved</span>
					                </div>
					            </div>
					        </div>
					    </div>-->	
						

						<div class="modalView" id="modalReimbursementApproved">
				        <div class="modal-dialog modal-dialog-centered">
				            <div class="modal-content modal-bulk p-0">
				                <div class="modal-top text-center">
				                    <button type="button" class="close p-0"  data-dismiss="modal" onclick="approvedClose()" aria-label="Close" style="right: 10px; top: 0;">
				                        <img src="img/modal-close.svg" alt="">
				                    </button>
				                    <img src="img/modal-success.svg" alt="">
				                </div>
				                <div class="modal-bottom">
				                    <span>Reimbursement Approved</span>
				                </div>
				            </div>
				        </div>
				    </div>
					
					<div class="modalView" id="modalReimbursementRejected">
				        <div class="modal-dialog modal-dialog-centered">
				            <div class="modal-content modal-bulk p-0">
				                <div class="modal-top text-center">
				                    <button type="button" class="close p-0"  data-dismiss="modal" onclick="approvedClose()" aria-label="Close" style="right: 10px; top: 0;">
				                        <img src="img/modal-close.svg" alt="">
				                    </button>
				                    <img src="img/modal-success.svg" alt="">
				                </div>
				                <div class="modal-bottom">
				                    <span>Reimbursement Rejected</span>
				                </div>
				            </div>
				        </div>
				    </div>

		<!-- Modal Travel Request -->
		<div class="modal fade" id="travelDetailsTable" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
		    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg" role="document">
		        <div class="modal-content modal-bulk">
					<div class="modal-header pb-0 text-left">
						<h5 class="modal-title">Travel Request</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			                    <span aria-hidden="true">×</span>
			                </button>
					</div><hr><br>
		<div class="text-left">					
		        <div class="flex items-center space-x-4 mb-4">
		            <button class="flex items-center btn-attach-travel px-4 py-2  rounded" onclick="showTable('travelTable')">
		                <img src="img/plane-white.svg">Travel 
		            </button>
		            <button class="flex items-center btn-attach-travel px-4 py-2 rounded" onclick="showTable('accommodationTable')">
		                <i class="fas fa-bed mr-2"></i>Accommodation 
		            </button>
					<button class="flex items-center btn-attach-travel px-4 py-2 rounded" onclick="showTable('inCityCabsTable')">
	                <i class="fas fa-taxi mr-2"></i></i></i>In-City Cabs
	            	</button>
					<button class="flex items-center btn-attach-travel px-4 py-2 rounded" onclick="showTable('foodTable')">
	                <i class="fas fa-food mr-2"></i><img src="img/food-white.svg" style=" margin-bottom:3px" ></i></i>Food
	            	</button>
					<button class="flex items-center btn-attach-travel px-4 py-2 rounded" onclick="showTable('miscellaneousTable')">
	                <img src="img/miscellaneous-white.svg" style="margin-right: 20px; margin-bottom:5px" ></i></i>Miscellaneous
	            	</button>
					<!--
					<button class="btn btn-primary" data-toggle="modal" data-target="#travelDetailsTable1">Review and Submit</button>
				    -->
					<button type="button" class="btn btn-primary" id="reviewAndSubmit" onclick="ReviewandSybmit()">Review and Submit</button>
									 
		        </div>
				</div>
		            <div class="policies-wrap-in-table">
		                <div class="table-responsive" id="travelTable" style="display: block;">
		                   <table class="table table-reimbursements">
							    <thead>
							        <tr>
			  
							            <th><img src="img/plane-white.svg" alt="Plane Icon"></th>
							  
							            <th>Travel</th>
							            <th></th>
							            <th></th>
							            <th></th>
							            <th></th>
							            <th></th>
							            <th></th>
							            <th></th>
										<th></th>
							            <th><img src="img/delete-white.svg" alt="Delete Icon"></th>
															  
							        </tr>
		 
							        <tr>
							            <th>
							                <div class="table-check">
							                    <input type="checkbox" id="customCheckHeader">
							                </div>
							            </th>
							            <th>Mode</th>
							            <th>Booked-By</th>
							            <th>Date</th>
							            <th>Location</th>
							            <th>Preferred Time</th>
							            <th>Carrier Details</th>
										<th>Tentative Amount</th>
							            <th>Mode of Payment</th>
							            <th>Remark</th>
							            <th></th>
							        </tr>
							    </thead>
							    <tbody id="reimbursementsBody">
							        <tr class="template-row">
							            <td>
							                <div class="table-check">
							                    <input type="checkbox" class="row-check">
							                </div>
							            </td>
					  
							            <td>
							                <select name="mode" class="form-control" style="width:100px">
							                    <option value="flights">Flights</option>
							                    <option value="train">Train</option>
							                    <option value="bus">Bus</option>
							                </select>
							            </td>
							            <td>
							                <select name="toBeBookedBy" class="form-control" style="width:100px" >
							                    <option value="company">Company</option>
							                    <option value="self">Self</option>
							                </select>
							            </td>
							            <td>
							                <input type="date" name="date" class="form-control">
							            </td>
							            <td>
							                <input type="text" name="departure" placeholder="Departure" class="form-control mb-2">
							                <input type="text" name="arrival" placeholder="Arrival" class="form-control">
							            </td>
							            <td>
										   
							                <select class="form-control">
							                    <option value="Before 6 am">Before 6 am</option>
							                    <option value="6 am - 12 pm">6 am - 12 pm</option>
							                    <option value="12 pm - 6 pm">12 pm - 6 pm</option>
							                    <option value="After 6 pm">After 6 pm</option>
							                </select>
											
							                <br>
										   
							                <select class="form-control">
							                    <option value="ArrivalPreference">Arrival Preference</option>
							                    <option value="DeparturePreference">Departure Preference</option>
							                </select>
											
							            </td>
							            <td>
				
							                <select class="form-control">
							                    <option value="PremiumEco">PremiumEco</option>
							                    <option value="Economy">Economy</option>
							                    <option value="Business">Business</option>
							                </select>
											
							                <br>
							                <input type="text" name="carrierDetails" placeholder="Carrier Details" class="form-control">
												  
		   
							            </td>
										<td>
											
						                <input type="text" name="amount" placeholder="INR 5000" class="form-control"
										maxlength="5" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
						            </td>
							            <td>
							                <select class="form-control">
							                    <option value="NA">NA</option>
							                    <option value="Credit Card">Credit Card</option>
							                    <option value="Cash">Cash</option>
							                </select>
							                <div class="mt-2">
							                    <span class="text-muted">Limit:</span>
							                    <span class="border rounded px-3 py-1 bg-gray-200" style="border-color: darkgray;">INR 8,000</span>
											 </div>
							            </td>
							            <td>
							                <textarea class="border rounded px-2 py-1 w-full" placeholder="Add Remarks (Optional)" style="width:100px; height: 100px;"></textarea>
										</td>
							            <td>
											<img src="img/delete-white.svg" class="btn btn-danger btn-sm remove-row" alt="Delete Icon">
							            </td>
							        </tr>
							        
							    </tbody>
							</table>
							<div class="last-add">
								<div colspan="10" style="padding: .75rem;">
									 <button type="button" class="last-add" id="addRow" value="+ ADD" onclick="addTravelRow()">+ ADD</button>
								</div>
							</div>
							<div class="w-100 text-right">
							   	  <button class="btn btn-primary" id="btnSaveTravelRequest1" onclick="getTableDataTravel()">Save & Next</button>
							</div>	
	   
		                </div>
	<!-- Accommodation Table -->
	<div class="table-responsive" id="accommodationTable" style="display: none;">
	    <table class="table table-reimbursements">
	        <thead >
				<tr>
				<th>
                        <img src="img/accommodation-white.svg" >
                </th>
				<th>  Accommodation</th>
				<th></th>
				<th></th>
	            <th></th>
	            <th></th>
	            <th></th>
	            <th></th>
				<th></th>
				<th></th>
				<th>
	             <img src="img/delete-white.svg" alt="Plane Icon">
	            </th>	                                
	            </tr>
				
	            <tr>
					<th>
					<div class="table-check">
						<input type="checkbox" id="customCheck3">
					</div>
					</th>
	                <th>Type</th>
	                <th>Booked-By</th>
	                <th>Date</th>
	                <th>Location</th>
	                <th>Hotel Details</th>
	                <th>Preferences</th>
					<th>Tentative Amount</th>
	                <th>Mode of Payment</th>
	                <th>Remark</th>
					<th></th>
	            </tr>
	        </thead>
	        <tbody id="reimbursementsBodyAccomodation">
				<tr class="template-row-accomodation">
	                <td>
						<div class="table-check" style="margin-bottom: 60px;">
							<input type="checkbox" id="customCheck3">
						</div>
	                </td>
	    
	                <td> 
						<div style="margin-bottom: 60px;">
	                    <select name="mode" class="form-control" id="accommodationByMode">
	                        <option value="Hotels">Hotels</option>
							
	                    </select>
						</div>
	                </td>
	                <td>
						<div style="margin-bottom: 60px;">
	                    <select name="toBeBookedBy" class="form-control" id="accommodationBookedBy">
	                        <option value="company">Company</option>
							<option value="self">Self</option>
	                    </select>
						</div>
	                </td>
	                <td>
						<div style="margin-bottom: 60px;">
						<label for="accommodationCheckinDate">Check-in</label>
						    <input type="date" name="checkinDate" class="form-control" id="accommodationCheckinDate">
						    
						    <label for="accommodationCheckoutDate">Check-out</label>
						    <input type="date" name="checkoutDate" class="form-control" id="accommodationCheckoutDate">
							</div>
						
	                </td>
	                <td>
						<div style="margin-bottom: 60px;">
						 <input type="text" name="location" placeholder="Banglore" class="form-control mb-2" id="accommodationDepartureFrom">
						</div>
	                    
	                </td>
	                <td>
						<div style="margin-bottom: 60px;">
						<input type="text" name="location" placeholder="Treebo Hotels" class="form-control mb-2" id="accommodationDetails">
						</div>
	                    
	                </td>
	                <td>
						<div style="margin-bottom: 60px;">
	                        <select  class="form-control" id="accommodationPreference">
	                         <option value="14:00 Hrs">14:00 Hrs</option>
	                        </select>
	                    </div>
						
	                </td>
					<td>
																
	                <input type="text" id="accomodationAmount" name="amount" placeholder="INR 5000" 
					class="form-control" maxlength="5" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
					 </td>
					<td>
						<div style="margin-bottom: 28px;">
							<select class="form-control" id="accommodationAmountPayment">
		                       <option value="NA">NA</option>
		                       <option value="Credit Card">Credit Card</option>
		                       <option value="Cash">Cash</option>
		                   </select>
	                    </div>
					    
					    <div class="mt-0" >
					        <span class="text-muted">Limit:</span>
					        <span 
					            class="border rounded px-3 py-1 bg-gray-200" 
					            style="border-color: darkgray; display: inline-block;">
					            INR 8,000
					        </span>
					    </div>
					</td>
	                <td>
	                    <textarea class="border rounded px-2 py-1 w-full" placeholder="Add Remarks (Optional)"
						style="width:100px; height: 100px;" id="accommodationRemarks"></textarea>
						<input type="hidden" class="border rounded px-2 py-1 w-full" name="travelSubType" value="travel"></input>
	                </td>
	           
				<td>
					<img src="img/delete-white.svg" class="btn btn-danger btn-sm remove-row-acomodation" alt="Delete Icon">
	            </td>
				</tr>
	        </tbody>
	    </table>
		<div class="last-add">
			<div colspan="10" style="padding: .75rem;">
				 <button type="button" class="last-add" id="addRow" value="+ ADD" onclick="addTravelRowAcomodation()">+ ADD</button>
			</div>
		</div>
		<div class="w-100 text-right">
		   	  <button class="btn btn-primary" id="btnSaveAcomodationRequest" onclick="getaddTableRowAcomodation()"  >Save & Next</button>
		 </div>	
	</div>
				<!-- In-City Cabs Table -->
				<div class="table-responsive" id="inCityCabsTable" style="display: none;">
				    <table class="table table-reimbursements">
						<thead>
							<tr>
							<th> <img src="img/citycabs-white.svg" > </th>
							<th style="white-space: nowrap;"> In-City Cabs</th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th></th>
							<th></th>
							<th> <img src="img/delete-white.svg" alt="Plane Icon"> </th>	                                
				            </tr>
							
				            <tr>
								<th>
								<div class="table-check"> <input type="checkbox" id="customCheck3"> </div>
								</th>
				                <th>Type</th>
				                <th>Booked-By</th>
				                <th>Date</th>
				                <th>Time</th>
				                <th>Location</th>
				               <th>Tentative Amount</th>
				                <th>Mode of Payment</th>
				                <th>Remark</th>
								<th></th>
								<th></th>
				            </tr>
				        </thead>
						<tbody id="reimbursementsBodyInCityCab">
							<tr class="template-row-incitycab">
						
				                <td>
									<div class="table-check"> <input type="checkbox" id="customCheck3"> </div>
				                </td>
				    
				                <td>
				                    <select name="mode" class="form-control" id="cabsByMode">
				                        <option value="In-city-cab">In-City-Cab</option>
										<option value="Airport-Cab">Airport Cab</option>
										<option value="mylti-Stop">Multi Stop</option>
				                    </select>
				                </td>
				                <td>
				                    <select name="toBeBookedBy" class="form-control" id="cabsBookedBy">
				                        <option value="company">Company</option>
										<option value="self">Self</option>
				                    </select>
				                </td>
				                <td> <input type="date" name="date" class="form-control" id="cabsDate"> </td>
				                <td>
								 <input type="text" name="arrival" placeholder="14:00 Hrs" class="form-control" id="cabsTime">
				                    
				                </td>
				                <td>
									<div style="margin-bottom: -5px;">
									<input type="text" name="location" placeholder="From" 
									 class="form-control mb-2" id="cabsFrom" style="margin-top: 10px;">
									 <br>
									 <input type="text" name="location" placeholder="To" class="form-control mb-2" id="cabsTo">
									 </div>
				                </td>
								<td>
																			
				                <input type="text" id="cabAmount" name="amount" placeholder="INR 5000" class="form-control"
								maxlength="5" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" >
								 </td>
								<td>
									<div style="margin-bottom: 28px;">
										<select class="form-control" id="cabsPayment">
					                       <option value="NA">NA</option>
					                       <option value="Credit Card">Credit Card</option>
					                       <option value="Cash">Cash</option>
					                   </select>
				                    </div>
								    
								    <div class="mt-0" >
								        <span class="text-muted">Limit:</span>
								        <span 
								            class="border rounded px-3 py-1 bg-gray-200" 
								            style="border-color: darkgray; display: inline-block;">
								            INR 8,000
								        </span>
								    </div>
								</td>
				                <td>
				                    <textarea class="border rounded px-2 py-1 w-full" placeholder="Add Remarks (Optional)"
									style="width:100px; height: 100px;" id="cabsRemarks"></textarea>
				                </td>
								<td>
								<img src="img/delete-white.svg" class="btn btn-danger btn-sm remove-row-incitycab" alt="Delete Icon">
				            </td>
				            </tr>
				        </tbody>
				    </table>
					<div class="last-add">
						<div colspan="10" style="padding: .75rem;">
							 <button type="button" class="last-add" id="addRow" value="+ ADD" onclick="addInCityCab()">+ ADD</button>
						</div>
					</div>
					
					<div class="w-100 text-right">
					   <button class="btn btn-primary" id="btnSaveIncityCabRequest" onclick="getTableDataIncity()" >Save & Next</button>
					   </div>						
					
				</div>
				<!-- Food Table -->
				<div class="table-responsive" id="foodTable" style="display: none;">
				    <table class="table table-reimbursements">
				        <thead>
							<tr>
							<th> <img src="img/food-white.svg" > </th>
							<th style="white-space: nowrap;"> Food</th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th></th>
							<th></th>
							<th></th>
							<th> <img src="img/delete-white.svg" alt="Plane Icon"> </th>	                                
				            </tr>
							
				            <tr>
								<th>
								<div class="table-check"> <input type="checkbox" id="customCheck3"> </div>
								</th>
				                <th>Type of Meal</th>
				                <th>Start Date</th>
				                <th>Number of Days</th>
				                <th>Location</th>
								<th>Tentative Amount</th>
				                <th>Mode of Payment</th>
				                <th>Remark</th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
				            </tr>
				        </thead>
						<tbody id="reimbursementsBodyFood">
						  <tr class="template-row-food">
				                <td>
									<div class="table-check"> <input type="checkbox" id="customCheck3"> </div>
				                </td>
				    
				                <td>
				                    <select name="mode" class="form-control" id="typeOfMeals">
				                        <option value="Daily Meals">Daily Meals</option>
										<option value="Daily Meals">weekly Meals</option>
										<option value="Daily Meals">Montly Meals</option>
				                    </select>
				                </td>
				               
				                <td>
				                    <input type="date" name="date" class="form-control" id="mealDate">
				                </td>
				                <td>
									<select name="mode" class="form-control" id="noOfDays">
				                        <option value="1">1</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										
				                    </select>
				                    
				                </td>
				                <td>
									<input type="text" name="arrival" placeholder="Arrival" class="form-control" id="mealLocation">    
				                </td>
								
								<td>										
				                <input type="text" id="foodAmount" name="amount" placeholder="INR 5000" class="form-control" 
								maxlength="5" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" >
							   </td>
								<td>
									<div style="margin-bottom: 28px;">
										<select class="form-control" id="foodPayment">
					                       <option value="NA">NA</option>
					                       <option value="Credit Card">Credit Card</option>
					                       <option value="Cash">Cash</option>
					                   </select>
				                    </div>
								    
								    <div class="mt-0" >
								        <span class="text-muted">Limit:</span>
								        <span 
								            class="border rounded px-3 py-1 bg-gray-200" 
								            style="border-color: darkgray; display: inline-block;">
								            INR 8,000
								        </span>
								    </div>
								</td>
				                <td>
				                    <textarea class="border rounded px-2 py-1 w-full" placeholder="Add Remarks (Optional)"
									style="width:100px; height: 100px;" id="foodRemarks"></textarea>
				                </td>
								<td>
									<img src="img/delete-white.svg" class="btn btn-danger btn-sm remove-row-food" alt="Delete Icon">
					            </td>
								
				            </tr>
				        </tbody>
				    </table>
					<div class="last-add">
						<div colspan="10" style="padding: .75rem;">
							 <button type="button" class="last-add" id="addRow" value="+ ADD" onclick="addFood()">+ ADD</button>
						</div>
					</div>
				
					<div class="w-100 text-right">
					   <button class="btn btn-primary" id="btnSaveFoodRequest" onclick="getTableDataFood()">Save & Next</button>
				  </div>
					
				</div>
				<!-- Miscellaneous Table -->
				<div class="table-responsive" id="miscellaneousTable" style="display: none;">
				    <table class="table table-reimbursements">
				        <thead >
							<tr>
							<th><img src="img/miscellaneous-white.svg" > </th>
							<th style="white-space: nowrap;">Miscellaneous </th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th></th>
							<th> <img src="img/delete-white.svg" alt="Plane Icon"> </th>	                                
				            </tr>
				            <tr>
								<th>
								<div class="table-check"> <input type="checkbox" id="customCheck3"> </div>
								</th>
				                <th>Title</th>
				                <th>Booked-By</th>
				                <th>Date</th>
				                <th>Tentative Amount</th>
				                <th></th>
				                <th></th>
				                <th>Mode of Payment</th>
				                <th>Remarks (Compulsory)</th>
								<th></th>
				            </tr>
				        </thead>
						<tbody id="reimbursementsBodyMiscellaneous">
						 <tr class="template-row-miscellaneous">
				                <td>
									<div class="table-check"> <input type="checkbox" id="customCheck3"> </div>
				                </td>
				    
				                <td>
				                 <input type="text" name="" placeholder="Product Samples - 10 Pieces" class="form-control mb-2" id="miscTitle">
				                </td>
				                <td>
				                    <select name="toBeBookedBy" class="form-control" id="miscBookedBy">
				                        <option value="company">Company</option>
										<option value="self">Self</option>
				                    </select>
				                </td>
				                <td>
				                 <input type="date" name="date" class="form-control" id="miscDate">
				                </td>
				                <td>
								<input type="text" name="departure" placeholder="INR 5000" class="form-control mb-2" id="miscAmount"
								maxlength="5" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">    
				                </td>
				                <td>  
				                </td>
				                <td>
				                </td>
								<td>
									<div style="margin-bottom: 28px;">
										<select class="form-control" id="travelAmountPayment">
					                       <option value="NA">NA</option>
					                       <option value="Credit Card">Credit Card</option>
					                       <option value="Cash">Cash</option>
					                   </select>
				                    </div>
								    
								    <div class="mt-0" >
								        <span class="text-muted">Limit:</span>
								        <span 
								            class="border rounded px-3 py-1 bg-gray-200" 
								            style="border-color: darkgray; display: inline-block;">
								            INR 8,000
								        </span>
								    </div>
								</td>
				                <td>
				                    <textarea class="border rounded px-2 py-1 w-full" placeholder="Add Remarks (Optional)"
									style="height: 100px;" id="missRemarks"></textarea>
				                </td>
								<td>
									<img src="img/delete-white.svg" class="btn btn-danger btn-sm remove-row-miscellaneous" alt="Delete Icon">
					            </td>
				            </tr>
				          </tbody>
				    </table>			
					<div class="last-add">
		                <div colspan="10">
							<button type="button" class="last-add" id="addRow" value="+ ADD" onclick="addmiscellaneous()">+ ADD</button>
		                </div>
		            </div>
					<div class="w-100 text-right">
					   <button class="btn btn-primary" id="btnSaveMiscellaneousRequest" onclick="getTableDataMiscellaneous()" >Save & Next</button>
				    </div>																									 
				</div>							
            </div>
        </div>
    </div>
</div>

	<!-- Modal Confirm -->
		    <div class="modalView" id="ModalConfirm" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle">
		        <div class="modal-dialog modal-dialog-centered" role="document">
		        <div class="modal-content modal-bulk">
		            <div class="modal-top text-center">          
		            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closePopup()">
		                <img src="img/modal-close.svg" alt="">
		            </button>        
		            <img src="img/modal-success.svg" alt="">
		            </div>
		            <div class="modal-bottom">
		                <span class="modal-title"><strong>Travel Request</strong></span><br>
						<span class="modal-subtitle">Your Travel Request Form has been submitted.</span>
		            </div>
					
		        </div>
		        </div>
		    </div>

	    <!-- Modal Reject -->
	    <div class="modal fade" id="ModalReject" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	        <div class="modal-dialog modal-dialog-centered" role="document">
	        <div class="modal-content modal-bulk">
	            <div class="modal-top text-center">          
	            <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
	                <img src="img/modal-close.svg" alt="">
	            </button>        
	            <img src="img/modal-reject.svg" alt="">
	            </div>
	            <div class="modal-bottom">
	                <span<strong>Travel Request</strong></span>
	            </div>
	        </div>
	        </div>
	    </div>
<!-- new-->
 <div class="modalView"  id="travelDetailsTable1" tabindex="-1" role="dialog"
   aria-labelledby="exampleModalCenterTitle">
    <div class="modal-dialog modal-dialog-centered modal-approval-wrap custom-modal-width" role="document">
        <div class="modal-content modal-bulk">
			<div class="modal-header pb-0 text-left">
				<h5 class="modal-title">Travel Request</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeReviewEdit()">
	                    <span aria-hidden="true">×</span>
	                </button>
			</div><hr><br>
			<div class="background-wrap">
				<span><h3>Review and Submit Advance Travel Request</h3></span><br>
            <div class="policies-wrap-in-table">
                <div class="table-responsive-2" id="travelTableView"  style="display: none;">
                    <table class="table table-reimbursements" id="travelTableViewMode">
                        <thead >
							<tr>
							<th><img src="img/plane-white.svg" alt="Plane Icon"></th>
							<th>  Travel </th>
							<th></th>
							<th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
							<th></th>
							<th> <img src="img/edit-pencil-white.svg" alt="Plane Icon"></th>	 
							<th></th>                               
                            </tr>
							
                            <tr>
								   <th></th>
				                   <th>Mode</th>
				                   <th>Booked-By</th>
				                   <th>Date</th>
				                   <th>location</th>
				                   <th>Preferred Time</th>
				                   <th>Carrier Details</th>
								   <th>Tentative Amount</th>
				                   <th>Mode of Payment</th>
				                   <th>Remarks</th>
								   <th></th>
								   
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
					
                </div>
				<!-- Accommodation Table -->
				<div class="table-responsive-2" id="accommodationTable1" style="display: none;">
				    <table class="table table-reimbursements" id="accommodationTableViewMode">
				        <thead >
							<tr>
							<th> <img src="img/accommodation-white.svg" > </th>
							<th>  Accommodation </th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th></th>
							<th> <img src="img/edit-pencil-white.svg" alt="Plane Icon"> </th>	                                
				            </tr>
							
				            <tr>
								<th></th>
				                <th>Type</th>
				                <th>Booked-By</th>
				                <th>Date</th>
				                <th>Location</th>
				                <th>Hotel Details</th>
				                <th>Preferences</th>
								<th>Tentative Amount</th>
				                <th>Mode of Payment</th>
				                <th>Remark</th>
				            </tr>
				        </thead>
				        <tbody>
						
				        </tbody>
				    </table>
					
				</div>
				<!-- In-City Cabs Table -->
				<div class="table-responsive-2" id="inCityCabsTable1" style="display: none;">
				    <table class="table table-reimbursements" id="inCityCabsTableView">
				        <thead >
							<tr>
							<th> <img src="img/citycabs-white.svg" ></th>
							<th style="white-space: nowrap;"> In-City Cabs </th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th></th>  
							<th></th>        
							<th><img src="img/edit-pencil-white.svg" alt="Plane Icon"></th>	                
				            </tr>
				            <tr>
								<th></th>
				                <th>Type</th>
				                <th>Booked-By</th>
				                <th>Date</th>
				                <th>Time</th>
				                <th>Location</th>
								<th>Tentative Amount</th>
				                <th>Mode of Payment</th>
				                <th>Remark</th>
								<th></th>
				            </tr>
				        </thead>
				        <tbody>
						
				        </tbody>
				    </table>
					
				</div>
				<!-- Food Table -->
				<div class="table-responsive-2" id="foodTable1" style="display: none;">
				    <table class="table table-reimbursements" id="foodTableView">
				        <thead >
							<tr>
							<th> <img src="img/food-white.svg" > </th>
							<th style="white-space: nowrap;"> Food </th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th></th>          
							<th></th>
							<th> <img src="img/edit-pencil-white.svg" alt="Plane Icon"> </th>	
							<th></th>                                
				            </tr>
				            <tr>
								<th></th>
				                <th>Type of Meal</th>
								<!--<th>Booked-By</th>-->
				                <th>Start Date</th>
				                <th>Number of Days</th>
				                <th>Location</th>
								<th>Tentative Amount</th>
				                <th>Mode of Payment</th>
				                <th>Remark</th>
								<th></th>
								<th></th>
								<th></th>
				            </tr>
				        </thead>
				        <tbody>
				   
				        </tbody>
				    </table>
					
				</div>
				<!-- Miscellaneous Table -->
				<div class="table-responsive-2" id="miscellaneousTable1" style="display: none;">
				    <table class="table table-reimbursements" id="miscellaneousTableView">
				        <thead >
							<tr>
							<th> <img src="img/miscellaneous-white.svg" class="align-start">  </th>
							<th style="white-space: nowrap;"> Miscellaneous </th>
							<th></th>
							<th></th>
				            <th></th>
				            <th></th>
				            <th></th>
				            <th></th>
							<th>  <img src="img/edit-pencil-white.svg" alt="Plane Icon"> </th>	
							<th></th>                                
				            </tr>
				            <tr>
								<th></th>
				                <th>Title</th>
				                <th>Booked-By</th>
				                <th>Date</th>
				                <th>Tentative Amount</th>
				                <th></th>
				                <th></th>
				                <th>Mode of Payment</th>
				                <th>Remarks (Compulsory)</th>
								<th></th>
				            </tr>
				        </thead>
				        <tbody>
						
				        </tbody>
				    </table>
					
				</div>
				<div class="w-100 my-3 d-flex justify-content-end">
				    <!-- Delete button on the left -->
				    
				    <!-- Save & Next button on the right -->
				    <div class="w-50 text-right">
						<!--<button class="btn btn-primary" id="btnSaveTravelRequest" onclick="saveTravelRequest()" >Save & Next</button>-->
						<button class="btn custom-btn1" id="btnBackTravelRequest" >Back</button>
						
						<button class="btn btn-primary" id="btnSaveTravelRequest1" onclick="getAllTablesData()">Submit</button>
				        <!--<button class="btn btn-primary" id="btnSaveTravelRequest1" onclick="showConfirmModal()">Submit</button>-->
				    </div>
				</div>
				
            </div>
			</div><!-- custom background-wrap close-->
        </div>
    </div>
</div>

<div class="modalView"  id="travelRequestView" tabindex="-1" role="dialog"
	       aria-labelledby="exampleModalCenterTitle">
		    <div class="modal-dialog modal-dialog-centered modal-approval-wrap custom-modal-width" role="document">
		        <div class="modal-content modal-bulk">
					<div class="modal-header pb-0 text-left">
						<h5 class="modal-title">Advance Travel Request</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeView()">
			                    <span aria-hidden="true">×</span>
			                </button>
					</div><hr><br>
					<div class="background-wrap">
						<span><h3>View Advance Travel Request</h3></span><br>
		            <div class="policies-wrap-in-table">
		                <div class="table-responsive-2" id="travelTableView1" style="display: none;">
		                    <table class="table table-reimbursements" id="viewTravelRequest">
		                        <thead >
									<tr>
									<th> <img src="img/plane-white.svg" alt="Plane Icon"> </th>
									<th> Travel </th>
									<th></th>
									<th></th>
	                                <th></th>
	                                <th></th>
	                                <th></th>
	                                <th></th>
									<th></th>
									<th> <!--<img src="img/edit-pencil-white.svg" alt="Plane Icon">--> </th>	 
									<th></th>                               
		                            </tr>
									
		                            <tr>
								   <th></th>
				                   <th>Mode</th>
				                   <th>Booked-By</th>
				                   <th>Date</th>
				                   <th>location</th>
				                   <th>Preferred Time</th>
				                   <th>Carrier Details</th>
								   <th>Tentative Amount</th>
				                   <th>Mode of Payment</th>
				                   <th>Remarks</th>
								   <th></th>
		                           </tr>
		                        </thead>
		                        <tbody>
								
		                        </tbody>
		                    </table>
							
		                </div>
						<!-- Accommodation Table -->
						<div class="table-responsive-2" id="accommodationTable22" style="display: none;">
						    <table class="table table-reimbursements" id="viewAccomodationOnly">
						        <thead >
									<tr>
									<th> <img src="img/accommodation-white.svg" > </th>
									<th> Accommodation </th>
									<th></th>
									<th></th>
						            <th></th>
						            <th></th>
						            <th></th>
						            <th></th>
									<th></th>
									<th><!-- <img src="img/edit-pencil-white.svg" alt="Plane Icon">--> </th>	                                
						            </tr>
						            <tr>
									<th></th>
					                <th>Type</th>
					                <th>Booked-By</th>
					                <th>Date</th>
					                <th>Location</th>
					                <th>Hotel Details</th>
					                <th>Preferences</th>
									<th>Tentative Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
						            </tr>
						        </thead>
						        <tbody>
						        </tbody>
						    </table>
							
						</div>
						<!-- In-City Cabs Table -->
						<div class="table-responsive-2" id="inCityCabsTable22" style="display: none;">
						    <table class="table table-reimbursements" id="viewIncityCabOnly">
						        <thead >
									<tr>
									<th> <img src="img/citycabs-white.svg" > </th>
									<th style="white-space: nowrap;"> In-City Cabs </th>
									<th></th>
									<th></th>
						            <th></th>
						            <th></th>
						            <th></th>
									<th></th>  
									<th></th>        
									<th> <!--<img src="img/edit-pencil-white.svg" alt="Plane Icon">--> </th>	                
						            </tr>
						            <tr>
									<th></th>
					                <th>Type</th>
					                <th>Booked-By</th>
					                <th>Date</th>
					                <th>Time</th>
					                <th>Location</th>
									<th>Tentative Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
									<th></th>
						            </tr>
						        </thead>
						        <tbody>
								
						        </tbody>
						    </table>
							
						</div>
						<!-- Food Table -->
						<div class="table-responsive-2" id="foodTable22" style="display: none;">
						    <table class="table table-reimbursements" id="viewFoodOnly">
						        <thead >
									<tr>
									<th> <img src="img/food-white.svg" > </th>
									<th style="white-space: nowrap;"> Food </th>
									<th></th>
									<th></th>
						            <th></th>
						            <th></th>
						            <th></th>
						            <th></th>
									<th></th>          
									<th></th>
									<th> <!--<img src="img/edit-pencil-white.svg" alt="Plane Icon">--> </th>	
									<th></th>                                
						            </tr>
						            <tr>
									<th></th>
					                <th>Type of Meal</th>
									<!--<th>Booked-By</th>-->
					                <th>Start Date</th>
					                <th>Number of Days</th>
					                <th>Location</th>
									<th>Tentative Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
									<th></th>
									<th></th>
									<th></th>
						            </tr>
						        </thead>
						        <tbody>
						    
						        </tbody>
						    </table>
							
						</div>
						<!-- Miscellaneous Table -->
						<div class="table-responsive-2" id="miscellaneousTable22" style="display: none;">
						    <table class="table table-reimbursements" id="viewMiscellaneousOnly">
						        <thead >
									<tr>
									<th> <img src="img/miscellaneous-white.svg" class="align-start"> </th>
									<th style="white-space: nowrap;">Miscellaneous </th>
									<th></th>
									<th></th>
						            <th></th>
						            <th></th>
						            <th></th>
						            <th></th>
									<th><!-- <img src="img/edit-pencil-white.svg" alt="Plane Icon"> --></th>	
									<th></th>                                
						            </tr>
						            <tr>
									<th></th>
					                <th>Title</th>
					                <th>Booked-By</th>
					                <th>Date</th>
					                <th>Tentative Amount</th>
					                <th></th>
					                <th></th>
					                <th>Mode of Payment</th>
					                <th>Remarks (Compulsory)</th>
									<th></th>
						            </tr>
						        </thead>
						        <tbody>
								
						       </tbody>
						    </table>
						</div>
						
						<!-- Cash Table -->
						<div class="table-responsive-2" id="cashViewTable1" style="display: none;">
						    <table class="table table-reimbursements" id="viewCashOnly">
						        <thead >
									<tr>
									<th> <img src="img/cash.svg" alt=""  class="align-start"></th>
									<th style="white-space: nowrap;">Cash</th>
									<th></th>
									<th></th>
						            <th></th>
						            <th></th>
						            <th></th>
						            <th></th>
									                  
						            </tr>
						            <tr>
									<th></th>
					                <th>Title</th>
					                <th>Currency</th>
					                <th>Date</th>
									<th>Currency</th>
									<th>Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remarks (Compulsory)</th>
									<th></th>
						            </tr>
						        </thead>
						        <tbody>
								
						       </tbody>
						    </table>
						</div>
		            </div>
					</div><!-- custom background-wrap close-->
		        </div>
		    </div>
		</div>

	<!-- Modal Reimbursement Approved -->
	   <div class="modalView" id="modalTravelUpdated" tabindex="-1" role="dialog"
	       aria-labelledby="exampleModalCenterTitle" >
	       <div class="modal-dialog modal-dialog-centered" role="document">
	           <div class="modal-content modal-bulk">
	               <div class="modal-top text-center">
	                   <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="approvedClose" onclick="traveUpdateClose()">
	                       <img src="img/modal-close.svg" alt="">
	                   </button>
	                   <img src="img/modal-success.svg" alt="">
	               </div>
	               <div class="modal-bottom">
	                   <!--<div class="count"><span>4</span><strong>5</strong></div>-->
	                   <br>
	                   <span>Travel Request updated Successfully</span>
	               </div>
	           </div>
	       </div>
	   </div>
			   
   <div class="modalView"  id="TravelRequestApprove" tabindex="-1" role="dialog"
   	       aria-labelledby="exampleModalCenterTitle">
   		    <div class="modal-dialog modal-dialog-centered modal-approval-wrap custom-modal-width" role="document">
   		        <div class="modal-content modal-bulk">
   					<div class="modal-header pb-0 text-left">
   						<h5 class="modal-title">Approve-Reject Advance Travel Request</h5>
   							<button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeApproveView()">
   			                    <span aria-hidden="true">×</span>
   			                </button>
   					</div><hr><br>
   					<div class="background-wrap">
   						<span><h3>Approve-Reject  Advance Travel Request</h3></span><br>
   		            <div class="policies-wrap-in-table">
   		                <div class="table-responsive-2" id="approveTravel" style="display: none;">
   		                    <table class="table table-reimbursements" id="viewTravelRequestApprove">
   		                        <thead >
   									<tr>
									<th><img src="img/plane-white.svg" alt="Plane Icon"> </th>
   									<th> <div id="requestTypeT"></div></th>
   									<th></th>
   									<th></th>
   	                                <th></th>
   	                                <th></th>
   	                                <th></th>
   	                                <th></th>
   									<th></th>
   									<th></th>	 
   									<th></th>                               
   		                            </tr>
   		                            <tr>
								   <th></th>
				                   <th>Mode</th>
				                   <th>Booked-By</th>
				                   <th>Date</th>
				                   <th>location</th>
				                   <th>amount</th>
				                   <th>Mode of Payment</th>
				                   <th>Remarks</th>
								   <th></th>
   										   
   		                           </tr>
   		                        </thead>
   		                        <tbody>
   								
   		                        </tbody>
   		                    </table>
   							
   		                </div>
   						<!-- Accommodation Table -->
   						<div class="table-responsive-2" id="approveAccomodation" style="display: none;">
   						    <table class="table table-reimbursements" id="viewAccomodationOnlyApprove">
   						        <thead >
   									<tr>
   									<th>  <img src="img/accommodation-white.svg" > </th>
   									<th><div id="requestTypeA"></div></th>
   									<th></th>
   									<th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   									<th></th>
   									<th>
   						            </th>	                                
   						            </tr>
   									
   						            <tr>
									<th></th>
					                <th>Type</th>
					                <th>Booked-By</th>
					                <th>Date</th>
					                <th>Location</th>
					                <th>Hotel Details</th>
					                <th>Preferences</th>
									<th>Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
   						            </tr>
   						        </thead>
   						        <tbody>
   								
   						        </tbody>
   						    </table>
   							
   						</div>
   						<!-- In-City Cabs Table -->
   						<div class="table-responsive-2" id="approveIncityCab" style="display: none;">
   						    <table class="table table-reimbursements" id="viewIncityCabOnlyApprove">
   						        <thead >
   									<tr>
   									<th>
   					                <img src="img/citycabs-white.svg" ></th>
   									<th> <div id="requestTypeI"></div></th>
   									<th></th>
   									<th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   									<th></th>  
   									<th></th>        
   									<th>
   						            </th>	                
   						            </tr>
   						            <tr>
									<th></th>
					                <th>Type</th>
					                <th>Booked-By</th>
					                <th>Date</th>
					                <th>Time</th>
					                <th>Location</th>
									<th>Tentative Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
									<th></th>
   						            </tr>
   						        </thead>
   						        <tbody>
   								
   						        </tbody>
   						    </table>
   							
   						</div>
   						<!-- Food Table -->
   						<div class="table-responsive-2" id="approveFood" style="display: none;">
   						    <table class="table table-reimbursements" id="viewFoodOnlyApprove">
   						        <thead >
   									<tr>
   									<th> <img src="img/food-white.svg" ></th>
   									<th><div id="requestTypeF"> </div></th>
   									<th></th>
   									<th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   									<th></th>          
   									<th></th>
   									<th> </th>	
   									<th></th>                                
   						            </tr>
   						            <tr>
									<th></th>
					                <th>Type of Meal</th>
					                <th>Start Date</th>
					                <th>Number of Days</th>
					                <th>Location</th>
									<th>Tentative Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
									<th></th>
									<th></th>
									<th></th>
   						            </tr>
   						        </thead>
   						        <tbody>
   						    
   						        </tbody>
   						    </table>
   							
   						</div>
						
						<!-- Food Table -->
   						<div class="table-responsive-2" id="approveCash" style="display: none;">
   						    <table class="table table-reimbursements" id="viewCashOnlyApprove">
   						        <thead >
   									<tr>
   									<th>  <img src="img/food-white.svg"> </th>
   									<th style="white-space: nowrap;"> <div id="requestTypeC"></div></th>
   									<th></th>
   									<th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   									<th></th>          
   									<th></th>
   									<th></th>	
   									<th></th>                                
   						            </tr>
   						            <tr>
									<th></th>
					                <th>Expense Title</th>
					                <th>Start Date</th>
					                <th>Amount</th>
					                <th></th>
									<th></th>
					                <th>Mode of Payment</th>
					                <th>Remark</th>
									<th></th>
									<th></th>
									<th></th>
   						            </tr>
   						        </thead>
   						        <tbody>
   						    
   						        </tbody>
   						    </table>
   							
   						</div>
   						<!-- Miscellaneous Table -->
   						<div class="table-responsive-2" id="approveMiscellaneous" style="display: none;" >
   						    <table class="table table-reimbursements" id="viewMiscellaneousOnlyApprove">
   						        <thead >
   									<tr>
   									<th> <img src="img/miscellaneous-white.svg" class="align-start"> </th>
   									<th style="white-space: nowrap;"><div id="requestTypeM"></div> </th>
   									<th></th>
   									<th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   						            <th></th>
   									<th></th>	
   									<th></th>                                
   						            </tr>
   						            <tr>
									<th></th>
					                <th>Title</th>
					                <th>Booked-By</th>
					                <th>Date</th>
					                <th>Tentative Amount</th>
					                <th>Mode of Payment</th>
					                <th>Remarks (Compulsory)</th>
									<th></th>
   						            </tr>
   						        </thead>
   						        <tbody>
   						      </tbody>
   						    </table>
   						</div>
						<div class="abc-container">
						        <label for="approveAmount">Enter Approve Amount:</label>
						        <input type="text" id="approveAmount" name="approveAmount" placeholder="Approved Amount">
								
						        <label for="approveRemark">Enter Remark:</label>
						        <textarea id="approveRemark" name="approveRemark" style="width: 100 px;"></textarea>
						    </div>
							<div class="error-msg" id="approveAmountError" style="color: red"></div>
						<div class="table-responsive-2">
						
						 <input type="hidden" class="border rounded px-2 py-1 w-full" placeholder="Approved Amount" id="approvalId" >
						 <input type="hidden" class="form-input" id="userName" name="userName" th:value="${session.username}">
					   	 <button class="btn btn-primary" id="btnSaveTravelRequest" onclick="approveCashAvance()">Approve</button>
						 
						 <button class="btn btn-primary" id="btnSaveTravelRequest" onclick="rejectCashAvance()">Reject</button>
						  								    
					     </div>	
						<div class="w-100 text-right">
					   </div>	
   		            </div>
   					</div><!-- custom background-wrap close-->
   		        </div>
   		    </div>
   		</div>

</body>

</html>